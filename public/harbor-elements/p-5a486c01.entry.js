import{h as t,r as e,c as r,H as i,g as o}from"./p-9227bedb.js";import"./p-b70d1ec1.js";import"./p-d77427db.js";import{j as s}from"./p-429acd5f.js";import{i as a,k as h,f as n,s as l,B as c}from"./p-53cd60da.js";import{_ as d,c as b}from"./p-b6499249.js";import"./p-ffcea7d9.js";import{_ as u}from"./p-b2fae519.js";import{i as p}from"./p-fd366e3b.js";import{_ as g}from"./p-7b370549.js";import"./p-13335944.js";import"./p-666c6330.js";import{f as m,r as f,g as w,a as v,e as x,s as C,D as y,b as S,c as k,d as L,h as R,i as j,j as E,t as O,k as z,l as P,m as I,U as H,n as M}from"./p-9544e5fe.js";import{i as F,F as T}from"./p-2addb592.js";import{i as D,g as N,P as B,G as A,a as U,b as $,c as V,d as q,e as G,f as Z,h as W,j as J,k as _,E as K,l as X,H as Y,C as Q,F as tt,D as et,m as rt,S as it}from"./p-dd0903ed.js";class ot{constructor(){this.defaultRowSize=32}}class st{constructor(){this.defaultRowSize=27}}class at{constructor(){this.defaultRowSize=42}}class ht{constructor(){this.defaultRowSize=42}}const nt=["cohesion","material","compact","darkMaterial","darkCompact","default"];class lt{constructor(t){this.customRowSize=0,this.customRowSize=t.rowSize,this.register("cohesion")}get theme(){return this.currentTheme}get rowSize(){return this.customRowSize||this.currentTheme.defaultRowSize}set rowSize(t){this.customRowSize=t}register(t){switch(lt.getTheme(t)){case"material":case"darkMaterial":this.currentTheme=new at;break;case"compact":case"darkCompact":this.currentTheme=new ot;break;case"cohesion":this.currentTheme=new ht;break;default:this.currentTheme=new st}}static getTheme(t){return nt.indexOf(t)>-1?t:"cohesion"}}var ct,dt=(ct=m,function(t,e,r){var i=Object(t);if(!a(t)){var o=d(e);t=h(t),e=function(t){return o(i[t],t,i)}}var s=ct(t,e,r);return s>-1?i[o?t[s]:s]:void 0});const bt=["rowPinStart","rgRow","rowPinEnd"],ut=["colPinStart","rgCol","colPinEnd"];var pt,gt=function(t,e){return(n(t)?l:g)(t,d(e))};class mt{constructor(t){this.hbrtable=t,this.subscriptions={}}addEventListener(t,e){this.hbrtable.addEventListener(t,e),this.subscriptions[t]=e}removeEventListener(t){this.hbrtable.removeEventListener(t,this.subscriptions[t]),delete this.subscriptions[t]}emit(t,e){const r=new CustomEvent(t,{detail:e,cancelable:!0});return this.hbrtable.dispatchEvent(r),r}clearSubscriptions(){for(let t in this.subscriptions)this.removeEventListener(t)}destroy(){this.clearSubscriptions()}}class ft extends mt{static gatherGroup(t,e,r,i=0){const o=Object.assign(Object.assign({},e),{level:i,ids:[]});for(let e in r.columns){const i=e,s=t.columns[i],a=r.columns[i];n(s)&&n(a)&&(s.push(...a),a.length&&t.columnGrouping[i].push(Object.assign(Object.assign({},o),{ids:gt(a,"prop")})))}for(let e in r.columnGrouping)t.columnGrouping[e].push(...r.columnGrouping[e]);return t.maxLevel=Math.max(t.maxLevel,r.maxLevel),t}static isColGrouping(t){return!!t.children}}class wt{constructor(){this.sorting=null,this.dataSources=f(ut,((t,e)=>(t[e]=new y(e),t)),{})}get order(){return f(this.sorting,((t,e,r)=>(t[r]=e.order,t)),{})}get stores(){return this.dataSources}column(t,e){return this.getColumn(t,e||"rgCol")}getColumn(t,e){return w(this.dataSources[e].store,t)}getRawColumns(){return f(this.dataSources,((t,e,r)=>(t[r]=e.store.get("source"),t)),{rgCol:[],colPinStart:[],colPinEnd:[]})}getColumns(t="all"){return"all"!==t?this.dataSources[t].store.get("source"):ut.reduce(((t,e)=>(t.push(...this.dataSources[e].store.get("source")),t)),[])}getColumnIndexByProp(t,e){return v(this.dataSources[e].store,t)}getColumnByProp(t,e){const r=this.dataSources[e].store.get("source");return dt(r,{prop:t})}refreshByType(t){this.dataSources[t].refresh()}setColumns(t){return x(ut,(e=>{this.dataSources[e].updateData(t.columns[e],{depth:t.maxLevel,groups:f(t.columnGrouping[e],((t,e)=>(t[e.level]||(t[e.level]=[]),t[e.level].push(e),t)),{})})})),this.sorting=t.sort,t}updateColumns(t){const e=t.reduce(((t,e)=>{const r=wt.getColumnType(e);return t[r]||(t[r]={}),t[r][e.prop]=e,t}),{}),r={};x(e,((t,e)=>{const i=this.dataSources[e].store.get("source");r[e]=i.reduce(((e,r,i)=>{const o=t[r.prop];return o&&(e[i]=o),e}),{})})),x(r,((t,e)=>C(this.dataSources[e].store,t)))}updateColumn(t,e){const r=wt.getColumnType(t);C(this.dataSources[r].store,{[e]:t})}updateColumnSorting(t,e,r){return this.clearSorting(),t.order=r,this.sorting[t.prop]=t,this.updateColumn(t,e),t}clearSorting(){const t=f(this.sorting,((t,e)=>(t[wt.getColumnType(e)]=!0,t)),{});x(t,((t,e)=>{const r=this.dataSources[e].store.get("source");x(r,(t=>t.order=void 0)),this.dataSources[e].setData({source:[...r]})})),this.sorting={}}static getSizes(t){return f(t,((t,e,r)=>(e.size&&(t[r]=e.size),t)),{})}static getColumnByProp(t,e){return dt(t,(t=>ft.isColGrouping(t)?wt.getColumnByProp(t.children,e):t.prop===e))}static getColumns(t,e=0,r){return f(t,((t,i)=>{if(ft.isColGrouping(i))return ft.gatherGroup(t,i,wt.getColumns(i.children,e+1,r),e);const o=Object.assign(Object.assign({},i.columnType&&r&&r[i.columnType]),i);return o.pin?t.columns[o.pin].push(o):t.columns.rgCol.push(o),o.order&&(t.sort[o.prop]=o),o.beforeSetup&&o.beforeSetup(o),t}),{columns:{rgCol:[],colPinStart:[],colPinEnd:[]},columnGrouping:{rgCol:[],colPinStart:[],colPinEnd:[]},maxLevel:e,sort:{}})}static getColumnType(t){return t.pin?t.pin:"rgCol"}}class vt{constructor(t,e){this.dimensionProvider=t,this.tbSelf=e,this.stores=f(bt,((t,e)=>(t[e]=new y(e),t)),{})}setData(t,e="rgRow",r,i=!1){return this.stores[e].updateData([...t],r,i),this.dimensionProvider.setData(t,e,"rgRow"!==e,this.tbSelf),t}getModel(t,e="rgRow"){return w(this.stores[e].store,t)}setCellData({type:t,rowIndex:e,prop:r,val:i}){const o=this.getModel(e,t);o[r]=i,C(this.stores[t].store,{[e]:o})}refresh(t="all"){(function(t){return bt.indexOf(t)>-1})(t)&&this.refreshItems(t),bt.forEach((t=>this.refreshItems(t)))}refreshItems(t="rgRow"){const e=this.stores[t].store.get("items");this.stores[t].setData({items:[...e]})}setGrouping({depth:t},e="rgRow"){this.stores[e].setData({groupingDepth:t})}setTrimmed(t,e="rgRow"){const r=this.stores[e];r.addTrimmed(t),"rgRow"===e&&this.dimensionProvider.setData(S(r.store),e,!1,this.tbSelf)}}function xt(){return Object.assign(Object.assign({},{indexes:[],sizes:{},positionIndexToItem:{},indexToItem:{},positionIndexes:[]}),{realSize:0,originItemSize:0,frameOffset:0})}class Ct{constructor(){this.store=k(xt())}getCurrentState(){const t=xt(),e=Object.keys(t);return f(e,((t,e)=>{const r=this.store.get(e);return t[e]=r,t}),t)}setRealSize(t,e){let r=0;for(let e=0;e<t;e++)r+=this.store.get("sizes")[e]||this.store.get("originItemSize");(null==e?void 0:e.pagination)?(r=null==e?void 0:e.paginationPlugin.getRealSize(t),L(this.store,{realSize:r})):L(this.store,{realSize:r})}setStore(t){L(this.store,t)}drop(){L(this.store,{indexes:[],sizes:{},positionIndexToItem:{},indexToItem:{},positionIndexes:[]})}setDimensionSize(t){const e=R(this.getCurrentState(),t);return L(this.store,e),e}}class yt{constructor(t){this.viewports=t,this.stores=f([...bt,...ut],((t,e)=>(t[e]=new Ct,t)),{})}setDimensionSize(t,e){this.stores[t].setDimensionSize(e),this.viewports.stores[t].setViewPortDimension(e)}setRealSize(t,e,r){this.viewports.stores[e].setViewport({realCount:t}),"rgRow"===e?this.stores[e].setRealSize(t,r):this.stores[e].setRealSize(t)}setData(t,e,r=!1,i){this.setRealSize(t.length,e,i),r&&this.setNoVirtual(e),this.setViewPortCoordinate({coordinate:this.viewports.stores[e].store.get("lastCoordinate"),type:e})}setNoVirtual(t){const e=this.stores[t].getCurrentState();this.viewports.stores[t].setViewport({virtualSize:e.realSize})}drop(){for(let t of ut)this.stores[t].drop()}setColumns(t,e,r=!1){this.stores[t].setDimensionSize(e),r&&this.setNoVirtual(t),this.setViewPortCoordinate({coordinate:this.viewports.stores[t].store.get("lastCoordinate"),type:t})}setViewPortCoordinate({coordinate:t,type:e}){const r=this.stores[e].getCurrentState();this.viewports.stores[e].setViewPortCoordinate(t,r)}getViewPortPos(t){const e=this.stores[t.dimension].getCurrentState();return j(e,t.coordinate).start}setSettings(t,e){let r=[];switch(e){case"rgCol":r=ut;break;case"rgRow":r=bt}for(let e of r)this.stores[e].setStore(t)}}function St(t,e,r){t.splice(r.end+1,0,...e),r.start>=r.end&&(r.start!==r.end||0!==r.start)&&(r.start+=e.length),r.end+=e.length}function kt(t,e,r,i,o){const s=Et(i);return Lt({sizes:o.sizes,start:s.end,startIndex:s.itemIndex+1,origSize:o.originItemSize,maxSize:r-(s.end-t.start),maxCount:e})}function Lt(t,e=0){const r=[];let i=t.startIndex,o=e;for(;o<=t.maxSize&&i<t.maxCount;){const e=Rt(i,t.sizes,t.origSize);r.push({start:t.start+o,end:t.start+o+e,itemIndex:i,size:e}),o+=e,i++}return r}function Rt(t,e,r=0){return e&&e[t]?e[t]:r}function jt(t){return t.items[t.start]}function Et(t){return t.items[t.end]}class Ot{constructor(){this.store=k({items:[],start:0,end:0,virtualSize:0,realCount:0,lastCoordinate:0}),this.store.onChange("realCount",(()=>this.clear()))}setViewPortCoordinate(t,e){let r=this.store.get("virtualSize");if(!r)return;const i=e.frameOffset;r+=2*i*e.originItemSize;let o=r;e.realSize>r&&(o=e.realSize-r);let s={lastCoordinate:t},a=t;a-=i*e.originItemSize,a=a<0?0:a<o?a:o;const h=jt(this.getItems()),n=Et(this.getItems());if(function(t,e){return e&&t>=e.start&&t<=e.end}(a,h)){if(h&&this.store.get("virtualSize")+a>(null==n?void 0:n.end)){const t=kt(h,this.store.get("realCount"),r+a-h.start,this.getItems(),e);if(t.length){const e=[...this.store.get("items")],r={start:this.store.get("start"),end:this.store.get("end")};St(e,t,r),s=Object.assign(Object.assign(Object.assign({},s),{items:[...e]}),r),L(this.store,Object.assign({},s))}}}else s=Object.assign(Object.assign({},s),function(t,e,r,i,o){const s=E(o,t),a=jt(e);let h;if(a){let t=s.itemIndex-(a.itemIndex||0);if(t){const a=function(t,e){const r=[...e.items],i=r.length;let o={start:e.start,end:e.end};if(t>i)return null;if(e.positiveDirection){let s=Et(e),a=o.start;const h=a+t;for(;a<h;a++){const t=s.itemIndex+1,h=Rt(t,e.sizes,e.originItemSize);if(s.end+h>e.realSize)break;let n=a%i;if(!r[n])throw new Error("incorrect index");r[n]=s={start:s.end,end:s.end+h,itemIndex:t,size:h},o.start++,o.end=n}}else{let s=jt(e);const a=o.end;for(let h=0;h<t;h++){const t=s.itemIndex-1,n=Rt(t,e.sizes,e.originItemSize);let l=a-h;if(l=(l<0?i+l:l)%i,!r[l])throw new Error("incorrect index");r[l]=s={start:s.start-n,end:s.start,itemIndex:t,size:n},o.start=l,o.end--}}return Object.assign({items:r},{start:(o.start<0?i+o.start:o.start)%i,end:(o.end<0?i+o.end:o.end)%i})}(Math.abs(t),Object.assign(Object.assign({positiveDirection:t>-1},o),e));if(a&&(h=a),h){const t=kt(s,r,i,h,o);t.length&&St(h.items,t,h)}}}if(!h){const t=Lt({start:s.start,startIndex:s.itemIndex,origSize:o.originItemSize,maxSize:i,maxCount:r,sizes:o.sizes});h={items:t,start:0,end:t.length-1}}return h}(a,this.getItems(),this.store.get("realCount"),r,e)),L(this.store,Object.assign({},s))}setViewPortDimension(t){const e=this.store.get("items"),r=e.length;if(!r)return;let i=0,o=0,s=this.store.get("start");for(;o<r;){const a=e[s];i&&(a.start+=i,a.end+=i);const h=t[a.itemIndex];h&&(i+=h-a.size,a.size=h,a.end=a.start+h),s++,o++,s===r&&(s=0)}L(this.store,{items:[...e]})}getItems(){return{items:this.store.get("items"),start:this.store.get("start"),end:this.store.get("end")}}setViewport(t){L(this.store,t)}clear(){this.store.set("items",[])}}class zt{constructor(){this.stores=f([...bt,...ut],((t,e)=>(t[e]=new Ot,t)),{})}setViewport(t,e){this.stores[t].setViewport(e)}}!function(t){t.headerClickAutosize="headerClickAutoSize",t.autoSizeOnTextOverlap="autoSizeOnTextOverlap",t.autoSizeAll="autoSizeAll"}(pt||(pt={}));class Pt extends mt{constructor(t,e,r){super(t),this.providers=e,this.config=r,this.autoSizeColumns=null,this.dataResolve=null,this.dataReject=null,this.letterBlockSize=(null==r?void 0:r.letterBlockSize)||7,(null==r?void 0:r.preciseSize)&&(this.precsizeCalculationArea=this.initiatePresizeElement(),t.appendChild(this.precsizeCalculationArea));const i=({detail:{source:t}})=>{this.setSource(t)},o=({detail:t})=>{this.afteredit(t)},s=({detail:t})=>{this.afterEditAll(t)},a=({detail:t})=>{const e=wt.getColumnType(t),r=this.getColumnSize(t.index,e);r&&this.providers.dimensionProvider.setDimensionSize(e,{[t.index]:r})};switch(this.addEventListener("beforecolumnsset",(({detail:{columns:t}})=>{this.columnSet(t)})),null==r?void 0:r.mode){case pt.autoSizeOnTextOverlap:this.addEventListener("aftersourceset",i),this.addEventListener("afteredit",o);break;case pt.autoSizeAll:this.addEventListener("aftersourceset",i),this.addEventListener("afteredit",s);break;default:this.addEventListener("headerdblClick",a)}}async setSource(t){let e=this.autoSizeColumns;if(this.dataReject&&(this.dataReject(),this.clearPromise()),!e){const t=new Promise(((t,e)=>{this.dataResolve=t,this.dataReject=e}));try{e=await t}catch(t){return}}x(e,((r,i)=>{const o={};x(e[i],(e=>{e.size=o[e.index]=t.reduce(((t,r)=>Math.max(t,this.getLength(r[e.prop]))),0)})),this.providers.dimensionProvider.setDimensionSize(i,o)}))}getLength(t){var e;if(!t)return 0;try{const r=t.toString();return(null===(e=this.config)||void 0===e?void 0:e.preciseSize)?(this.precsizeCalculationArea.innerText=r,this.precsizeCalculationArea.scrollWidth+30):r.length*this.letterBlockSize+30}catch(t){return 0}}afteredit(t){let e;e=this.isRangeEdit(t)?t.data:{0:{[t.prop]:t.val}},x(this.autoSizeColumns,((t,r)=>{const i={};x(t,(t=>{const r=f(e,((e,r)=>void 0===r[t.prop]?e:Math.max(e||0,this.getLength(r[t.prop]))),void 0);r&&t.size<r&&(t.size=i[t.index]=r)})),this.providers.dimensionProvider.setDimensionSize(r,i)}))}afterEditAll(t){const e={};this.isRangeEdit(t)?x(t.data,(t=>x(t,((t,r)=>e[r]=!0)))):e[t.prop]=!0,x(this.autoSizeColumns,((t,r)=>{const i={};x(t,(t=>{if(e[t.prop]){const e=this.getColumnSize(t.index,r);e&&(i[t.index]=e)}})),this.providers.dimensionProvider.setDimensionSize(r,i)}))}getColumnSize(t,e){const r=this.autoSizeColumns[e][t];return r?f(this.providers.dataProvider.stores,((t,e)=>{const i=f(e.store.get("items"),((t,i,o)=>{const s=w(e.store,o);return Math.max(t||0,this.getLength(s[r.prop]))}),0);return Math.max(t,i)}),r.size||0):0}columnSet(t){var e;for(let r of ut){const i=r,o=t[i];for(let t in o)(o[t].autoSize||(null===(e=this.config)||void 0===e?void 0:e.allColumns))&&(this.autoSizeColumns||(this.autoSizeColumns={}),this.autoSizeColumns[i]||(this.autoSizeColumns[i]={}),this.autoSizeColumns[i][t]=Object.assign(Object.assign({},o[t]),{index:parseInt(t,10)}))}this.dataResolve&&(this.dataResolve(this.autoSizeColumns),this.clearPromise())}clearPromise(){this.dataResolve=null,this.dataReject=null}isRangeEdit(t){return!!t.data}initiatePresizeElement(){const t={position:"absolute",fontSize:"14px",height:"0",width:"0",whiteSpace:"nowrap",top:"0",overflowX:"scroll"},e=document.createElement("div");for(let r in t)e.style[r]=t[r];return e.classList.add("revo-test-container"),e}destroy(){var t;super.destroy(),null===(t=this.precsizeCalculationArea)||void 0===t||t.remove()}}const It=(t,e)=>void 0===t||null===t&&!e||("string"!=typeof t&&(t=JSON.stringify(t)),t.toLocaleLowerCase()===e),Ht=(t,e)=>!It(t,e);Ht.extra="input",It.extra="input";const Mt=function(t,e){let r;return"number"==typeof t&&(r=parseFloat(null==e?void 0:e.toString()),t>r)};Mt.extra="input";const Ft=function(t,e){return It(t,e)||Mt(t,e)};Ft.extra="input";const Tt=function(t,e){let r;return"number"==typeof t&&(r=parseFloat(null==e?void 0:e.toString()),t<r)};Tt.extra="input";const Dt=function(t,e){return It(t,e)||Tt(t,e)};Dt.extra="input";const Nt=t=>!(""===t||null==t),Bt=(t,e)=>!(!t||e&&("string"!=typeof t&&(t=JSON.stringify(t)),"string"!=typeof e&&(e=JSON.stringify(e)),0!==t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())));Bt.extra="input";const At=(t,e)=>!!t&&(!e||("string"!=typeof t&&(t=JSON.stringify(t)),t.toLocaleLowerCase().indexOf(e.toString().toLowerCase())>-1)),Ut=(t,e)=>!At(t,e);Ut.extra="input",At.extra="input";const $t={none:"None",empty:"Not set",notEmpty:"Set",eq:"Equal",notEq:"Not equal",begins:"Begins with",contains:"Contains",notContains:"Does not contain",eqN:"=",neqN:"!=",gt:">",gte:">=",lt:"<",lte:"<="},Vt={none:()=>!0,empty:t=>!Nt(t),notEmpty:Nt,eq:It,notEq:Ht,begins:Bt,contains:At,notContains:Ut,eqN:It,neqN:Ht,gt:Mt,gte:Ft,lt:Tt,lte:Dt},qt={string:["notEmpty","empty","eq","notEq","begins","contains","notContains"],number:["notEmpty","empty","eqN","neqN","gt","gte","lt","lte"]};class Gt extends mt{constructor(e,r,i){super(e),this.revogrid=e,this.filterCollection={},this.possibleFilters=Object.assign({},qt),this.possibleFilterNames=Object.assign({},$t),this.possibleFilterEntities=Object.assign({},Vt),i&&this.initConfig(i),this.addEventListener("headerclick",(t=>this.headerclick(t))),this.addEventListener("aftersourceset",(()=>{this.revogrid.disableFiltering||Object.keys(this.filterCollection).length&&this.filterByProps(this.filterCollection)})),this.handleFilter=this.filterByProps.bind(this),this.handleClearFilter=this.onClearFilter.bind(this),this.handleSearchTextChange=this.onSeachTextChange.bind(this),this.revogrid.registerVNode([t("revogr-filter-panel",{revogrid:this.revogrid,uuid:`filter-${r}`,filterNames:this.possibleFilterNames,filterEntities:this.possibleFilterEntities,onFilterChange:t=>this.onFilterChange(t.detail),ref:t=>this.pop=t})])}initConfig(t){if(t.collection&&(this.filterCollection=Object.assign({},t.collection)),t.customFilters)for(let e in t.customFilters){const r=t.customFilters[e];this.possibleFilters[r.columnFilterType]||(this.possibleFilters[r.columnFilterType]=[]),this.possibleFilters[r.columnFilterType].push(e),this.possibleFilterEntities[e]=r.func,this.possibleFilterNames[e]=r.name}if(t.include){const e={};for(let r in this.possibleFilters){const i=this.possibleFilters[r].filter((e=>t.include.indexOf(e)>-1));i.length&&(e[r]=i)}Object.keys(e).length>0&&(this.possibleFilters=e)}}async headerclick(t){var e;const r=null===(e=t.detail.originalEvent)||void 0===e?void 0:e.target;if(!F(r))return;t.preventDefault();const i=await this.pop.getChanges();if(i&&(null==i?void 0:i.prop)===t.detail.prop)return void this.pop.show();const o=this.revogrid.getBoundingClientRect(),s=r.getBoundingClientRect(),a=t.detail.prop;this.pop.filterTypes=this.getColumnFilter(t.detail.filter),this.pop.show(Object.assign(Object.assign({},this.filterCollection[a]),{x:s.x-o.x,y:s.y-o.y+s.height,prop:a}))}getColumnFilter(t){let e="string";if(!t)return{[e]:this.possibleFilters[e]};if(this.isValidType(t))e=t;else if("object"==typeof t&&t.length)return t.reduce(((t,e)=>(this.isValidType(e)&&(t[e]=this.possibleFilters[e]),t)),{});return{[e]:this.possibleFilters[e]}}isValidType(t){return!("string"!=typeof t||!this.possibleFilters[t])}async onFilterChange(t){this.filterByProps({[t.prop]:t})}async onClearFilter(){const t=(await this.revogrid.getColumns()).reduce(((t,e)=>(t[e.prop]={prop:e.prop,type:"none",value:""},t)),{});await this.filterByProps(t,!0)}async onSeachTextChange(t){const e=await this.revogrid.getSource(),r=await this.revogrid.getColumns(),{defaultPrevented:i}=this.emit("beforefilterapply",{collection:this.filterCollection,source:e,columns:r});if(i)return;const o=await this.getSearchTextRowFilter(t),s=await this.getAllColumnSearchFilter(),a=Object.assign(Object.assign({},o),s),{defaultPrevented:h}=this.emit("beforefiltertrimmed",{collection:this.filterCollection,itemsToFilter:a,source:e});h||(await this.revogrid.addTrimmed(a,"filter")).defaultPrevented||this.emit("afterFilterApply",{collection:this.filterCollection,itemsToFilter:a,source:e})}async getSearchTextRowFilter(t){const e=await this.revogrid.getSource(),r=await this.revogrid.getColumns();let i=r.reduce(((r,i)=>{const o=this.getRowFilter(e,{[i.prop]:{filter:this.possibleFilterEntities.contains,type:"contains",value:t}});return Object.keys(o).forEach((t=>{r.hasOwnProperty(t)?r[t]++:r[t]=1})),r}),{});return Object.keys(i).forEach((t=>{i[t]!==r.length&&delete i[t]})),i}async getAllColumnSearchFilter(){const t=await this.revogrid.getColumns(),e=await this.revogrid.getSource(),r=this.filterCollection;return t.forEach((t=>{const e=Object.assign({},t),i=r[e.prop];e[T]&&!i&&delete e[T],!e[T]&&i&&(e[T]=!0)})),this.getRowFilter(e,r)}async filterByProps(t,e=!1){e&&(this.filterCollection={});for(const e in t){const{type:r,value:i}=t[e];"none"===r?delete this.filterCollection[e]:this.filterCollection[e]={filter:this.possibleFilterEntities[r],value:i,type:r}}const r=await this.revogrid.getSource(),i=await this.revogrid.getColumns(),{defaultPrevented:o,detail:s}=this.emit("beforefilterapply",{collection:this.filterCollection,source:r,columns:i});o||this.doFiltering(s.collection,s.source,s.columns)}async doFiltering(t,e,r){const i=[];r.forEach((e=>{const r=Object.assign({},e),o=t[r.prop];r[T]&&!o&&(delete r[T],i.push(r)),!r[T]&&o&&(i.push(r),r[T]=!0)}));let o=this.getRowFilter(e,t);if(this.hbrtable.searchText){const t=await this.getSearchTextRowFilter(this.hbrtable.searchText);o=Object.assign(Object.assign({},o),t)}const{defaultPrevented:s,detail:a}=this.emit("beforefiltertrimmed",{collection:t,itemsToFilter:o,source:e});s||(await this.revogrid.addTrimmed(a.itemsToFilter,"filter")).defaultPrevented||(await this.revogrid.updateColumns(i),this.emit("afterFilterApply",{collection:t,itemsToFilter:o,source:e}))}getRowFilter(t,e){const r={};return t.forEach(((t,i)=>{for(const o in e){const s=e[o];(0,s.filter)(t[o],s.value)||(r[i]=!0)}})),r}}var Zt=b("length"),Wt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Jt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",_t="\\ud83c[\\udffb-\\udfff]",Kt="[^\\ud800-\\udfff]",Xt="(?:\\ud83c[\\udde6-\\uddff]){2}",Yt="[\\ud800-\\udbff][\\udc00-\\udfff]",Qt="(?:"+Jt+"|"+_t+")?",te="[\\ufe0e\\ufe0f]?"+Qt+"(?:\\u200d(?:"+[Kt,Xt,Yt].join("|")+")[\\ufe0e\\ufe0f]?"+Qt+")*",ee="(?:"+[Kt+Jt+"?",Jt,Xt,Yt,"[\\ud800-\\udfff]"].join("|")+")",re=RegExp(_t+"(?="+_t+")|"+ee+te,"g"),ie=function(t){return function(t){return Wt.test(t)}(t)?function(t){for(var e=re.lastIndex=0;re.test(t);)++e;return e}(t):Zt(t)};class oe extends mt{constructor(t){super(t),this.revogrid=t,this.sorting=null,this.sortingFunc=null,this.handleSorting=this.updateColumnSorting.bind(this),this.addEventListener("beforesourceset",(({detail:t})=>{if(this.hasSorting&&this.emit("beforesourcesortingapply").defaultPrevented)return;const e=this.setData(t.source,t.type);e&&(t.source=e)})),this.addEventListener("aftercolumnsset",(async({detail:{order:t}})=>{const e=await this.revogrid.getColumns(),r={};for(let i in t){const o=wt.getColumnByProp(e,i),s=(null==o?void 0:o.cellCompare)||this.defaultCellCompare;r[i]="desc"==t[i]?this.descCellCompare(s):s}this.sort(t,r)})),this.addEventListener("initialHeaderClick",(async t=>{t.defaultPrevented||t.detail.column.sortable&&this.headerclick(t.detail.column,t.detail.index)}))}get hasSorting(){return!!this.sorting}async updateColumnSorting(t,e,r){const i=this.emit("beforesorting",{column:t,order:r});if(i.defaultPrevented)return;r=i.detail.order;const o=await this.revogrid.updateColumnSorting(i.detail.column,e,r),s=this.emit("beforesortingapply",{column:o,order:r});if(s.defaultPrevented)return;const a=(null==t?void 0:t.cellCompare)||this.defaultCellCompare;return this.sort({[t.prop]:r=s.detail.order},{[t.prop]:"desc"==r?this.descCellCompare(a):a}),o}async headerclick(t,e){let r=this.getNextOrder(t.order);const i=this.emit("beforesorting",{column:t,order:r});if(i.defaultPrevented)return;r=i.detail.order;const o=await this.revogrid.updateColumnSorting(i.detail.column,e,r),s=this.emit("beforesortingapply",{column:o,order:r});if(s.defaultPrevented)return;r=s.detail.order;const a=(null==t?void 0:t.cellCompare)||this.defaultCellCompare;this.sort({[t.prop]:r},{[t.prop]:"desc"==r?this.descCellCompare(a):a})}setData(t,e){if("rgRow"===e&&this.sorting&&this.sortingFunc)return this.sortItems(t,this.sorting,this.sortingFunc)}async sort(t,e){if(!function(t){if(null==t)return 0;if(a(t))return p(t)?ie(t):t.length;var e=s(t);return"[object Map]"==e||"[object Set]"==e?t.size:c(t).length}(t))return this.sorting=null,void(this.sortingFunc=null);this.sorting=t,this.sortingFunc=e;const r=await this.revogrid.getSourceStore(),i=r.get("source"),o=this.sortIndexByItems([...r.get("proxyItems")],i,this.sorting,this.sortingFunc);L(r,{proxyItems:o,source:[...i]}),this.emit("afterSortingApply")}defaultCellCompare(t,e,r){const i=e[t],o=r[t];return(null==i?void 0:i.toString().toLowerCase())>(null==o?void 0:o.toString().toLowerCase())?1:-1}descCellCompare(t){return(e,r,i,o)=>-1*t(e,r,i,o)}sortIndexByItems(t,e,r,i){for(let e in i)if(void 0===i[e])return[...Array(t.length).keys()];return t.sort(((t,o)=>{let s=0;for(let a in i)if(s=(0,i[a])(a,e[t],e[o],r[a]),s)break;return s}))}sortItems(t,e,r){return t.sort(((t,i)=>{let o=0;for(let s in r)if(o=(0,r[s])(s,t,i,e[s]),o)break;return o}))}getNextOrder(t){switch(t){case void 0:return"asc";case"asc":return"desc";case"desc":return"asc"}}}var se=function(t,e,r,i){var o=t.length;for((r=O(r))<0&&(r=-r>o?0:o+r),(i=void 0===i||i>o?o:O(i))<0&&(i+=o),i=r>i?0:function(t){return t?(e=O(t),r=0,i=4294967295,e==e&&(void 0!==i&&(e=e<=i?e:i),void 0!==r&&(e=e>=r?e:r)),e):0;var e,r,i}(i);r<i;)t[r++]=e;return t};const ae={mime:"text/csv",fileKind:"csv",bom:!0,columnDelimiter:",",rowDelimiter:"\r\n",encoding:""},he=String.fromCharCode(13),ne=String.fromCharCode(10),le=String.fromCharCode(34),ce=String.fromCharCode(65279),de=new RegExp('"',"g");class be{constructor(t={}){this.options=Object.assign(Object.assign({},ae),t)}doExport({data:t,headers:e,props:r}){let i=this.options.bom?ce:"";return(null==e?void 0:e.length)>0&&e.forEach((t=>{t.length&&(i+=this.prepareHeader(t,this.options.columnDelimiter),i+=this.options.rowDelimiter)})),t.forEach(((t,e)=>{e>0&&(i+=this.options.rowDelimiter),D(t)?i+=this.parseCell(N(t),this.options.columnDelimiter):i+=r.map((e=>this.parseCell(t[e],this.options.columnDelimiter))).join(this.options.columnDelimiter)})),i}prepareHeader(t,e){let r="";return r+=t.map((t=>this.parseCell(t,e,!0))).join(e),r}parseCell(t,e,r=!1){let i=t;return"string"!=typeof t&&(i=JSON.stringify(t)),void 0===i?"":""!==i&&(r||[he,le,ne,e].some((t=>i.indexOf(t)>=0)))?`"${i.replace(de,'""')}"`:i}}var ue;!function(t){t.csv="csv"}(ue||(ue={}));class pe extends mt{async exportString(t={},e=ue.csv){const r=await this.beforeexport();return r?this.formatter(e,t).doExport(r):null}async exportBlob(t={},e=ue.csv){return await this.getBlob(this.formatter(e,t))}async exportFile(t={},e=ue.csv){const r=this.formatter(e,t),i=await this.getBlob(r),o=window.URL||window.webkitURL,s=document.createElement("a"),{filename:a,fileKind:h}=r.options,n=`${a}.${h}`,l=o.createObjectURL(i);s.style.display="none",s.setAttribute("href",l),s.setAttribute("download",n),this.hbrtable.appendChild(s),s.dispatchEvent(new MouseEvent("click")),this.hbrtable.removeChild(s),await z(120),o.revokeObjectURL(l)}async getBlob(t){const e=`${t.options.mime};charset=${t.options.encoding}`;if("undefined"!=typeof Blob){const r=await this.beforeexport();return r?new Blob([t.doExport(r)],{type:e}):null}return null}async beforeexport(){let t=await this.getData();const e=this.emit("beforeexport",{data:t});return e.defaultPrevented?null:e.detail.data}async getData(){const t=await this.getSource(),e=[],r=[];ut.forEach(((t,i)=>{r.push(this.getColPerSource(t).then((t=>e[i]=t)))})),await Promise.all(r);const i={headers:[],props:[]};for(let t of e)t.headers.forEach(((t,e)=>{i.headers[e]||(i.headers[e]=[]),i.headers[e].push(...t)})),i.props.push(...t.props);return Object.assign({data:t},i)}async getColPerSource(t){const e=await this.hbrtable.getColumnStore(t),r=e.get("source"),i=e.get("items"),o=e.get("groupingDepth"),s=e.get("groups"),a=[],h=[],n=i.reduce(((t,e,i)=>{const o=r[e].prop;return a.push(r[e].name||""),h.push(o),t[o]=i,t}),{}),l=this.getGroupHeaders(o,s,i,n);return l.push(a),{headers:l,props:h}}getGroupHeaders(t,e,r,i){const o=[],s=(a=new Array(r.length),h="",(c=null==a?0:a.length)?(n&&"number"!=typeof n&&u(a,h,n)&&(n=0,l=c),se(a,h,n,l)):[]);var a,h,n,l,c;for(let r=0;r<t;r++){const t=[...s];(o.push(t),e[r])&&e[r].forEach((e=>{const r=this.findGroupStartIndex(e.ids,i);"number"==typeof r&&(t[r]=e.name)}))}return o}findGroupStartIndex(t,e){let r;return t.forEach((t=>{const i=e[t];"number"==typeof i&&("number"!=typeof r||r>i)&&(r=i)})),r}async getSource(){const t=[],e=[];return bt.forEach((r=>{const i=[];t.push(i);const o=this.hbrtable.getVisibleSource(r).then((t=>i.push(...t)));e.push(o)})),await Promise.all(e),t.reduce(((t,e)=>(t.push(...e),t)),[])}formatter(t,e={}){switch(t){case ue.csv:return new be(e);default:throw new Error("Unknown format")}}}class ge extends mt{constructor(t,e){super(t),this.revogrid=t,this.providers=e}get hasProps(){var t,e,r;return(null===(t=this.options)||void 0===t?void 0:t.props)&&(null===(r=null===(e=this.options)||void 0===e?void 0:e.props)||void 0===r?void 0:r.length)}get store(){return this.providers.dataProvider.stores[q].store}get rowItems(){return this.store.get("items")}get trimmed(){return this.store.get("trimmed")}onFocus(t){D(t.detail.model)&&t.preventDefault()}onExpand({virtualIndex:t}){const{source:e}=this.getSource();let r=this.trimmed.grouping,i=P(this.store,t);if(e[i][A]){const{trimmed:t}=function(t,e){const r=e[t],i=r[B],o={};let s=t+1;const a=e.length;for(;s<a;){const t=e[s];if(D(t)){if(i!==t[B])break;t[A]=!1}o[s++]=!0}return r[A]=!1,{trimmed:o}}(i,e);r=Object.assign(Object.assign({},r),t),this.revogrid.clearFocus()}else{const{trimmed:i,items:o}=function(t,e,r){const i=r[t],o=e[i],s=U(o[B]),a={};if(!s)return{trimmed:a};const h=[];o[A]=!0;let n=i+1;const l=e.length;let c=0;for(;n<l;){const t=e[n],r=D(t);if(r){if(!$(s,o,t))break;c||(c=t[V])}(!c||r&&c===t[V])&&(a[n]=!1,h.push(n)),n++}const d={trimmed:a};if(h.length){const e=[...r];e.splice(t+1,0,...h),d.items=e}return d}(t,e,this.rowItems);r=Object.assign(Object.assign({},r),i),o&&I(this.store,o)}this.store.set("source",e),this.revogrid.addTrimmed(r,"grouping")}getSource(t=!1){const e=this.store.get("source"),r=this.store.get("proxyItems");let i=0;return r.reduce(((r,o)=>{const s=e[o];return t?(D(s)?s[A]&&(r.prevExpanded[s[G]]=!0):(r.source.push(s),r.oldNewIndexes[o]=i,i++),r):(r.source.push(s),r)}),{source:[],prevExpanded:{},oldNewIndexes:{}})}setColumnGrouping(t){return!!(null==t?void 0:t.length)&&(t[0][Z]=!0,!0)}setColumns({columns:t}){for(let e of ut)if(this.setColumnGrouping(t[e]))break}onDrag(t){const{from:e,to:r}=t.detail,i=r-e>=0,{source:o}=this.getSource(),s=this.rowItems;let a=i?e:r;const h=i?r:e;for(;a<h;a++)if(D(o[s[a]]))return void t.preventDefault()}beforeTrimmedApply(t,e){if("filter"===e){const e=this.store.get("source");for(let r in t)t[r]&&D(e[r])&&(t[r]=!1)}}subscribe(){this.addEventListener("beforesourceset",(({detail:t})=>this.onDataSet(t))),this.addEventListener("beforecolumnsset",(({detail:t})=>this.setColumns(t))),this.addEventListener("beforetrimmed",(({detail:{trimmed:t,trimmedType:e}})=>this.beforeTrimmedApply(t,e))),this.addEventListener("afterSortingApply",(()=>this.doSourceUpdate())),this.addEventListener("beforecellfocus",(t=>this.onFocus(t))),this.addEventListener("roworderchanged",(t=>this.onDrag(t))),this.addEventListener(W,(({detail:t})=>this.onExpand(t)))}doSourceUpdate(t){if(!this.hasProps)return;const{source:e,prevExpanded:r,oldNewIndexes:i}=this.getSource(!0),{sourceWithGroups:o,depth:s,trimmed:a,oldNewIndexMap:h,childrenByGroup:n}=J(e,(t=>{var e;return null===(e=this.options)||void 0===e?void 0:e.props.map((e=>t[e]))}),Object.assign({prevExpanded:r},t));this.providers.dataProvider.setData(o,q,{depth:s},!0),this.updateTrimmed(a,n,i,h)}onDataSet(t){if(!this.hasProps||!(null==t?void 0:t.source)||!t.source.length)return;const e=t.source.filter((t=>!D(t))),r=this.revogrid.grouping||{},{sourceWithGroups:i,depth:o,trimmed:s,oldNewIndexMap:a,childrenByGroup:h}=J(e,(t=>{var e;return null===(e=this.options)||void 0===e?void 0:e.props.map((e=>t[e]))}),Object.assign({},r||{}));t.source=i,this.providers.dataProvider.setGrouping({depth:o}),this.updateTrimmed(s,h,a)}setGrouping(t){if(this.clearSubscriptions(),this.options=t,!t.props||!Object.keys(t.props).length)return void this.clearGrouping();const{source:e}=this.getSource();e.length&&this.doSourceUpdate(Object.assign({},t));for(let t of ut)if(this.setColumnGrouping(this.providers.columnProvider.getColumns(t))){this.providers.columnProvider.refreshByType(t);break}this.subscribe()}clearGrouping(){ut.forEach((t=>{const e=this.providers.columnProvider.getColumns(t);let r=!1;e.forEach((t=>{_(t)&&(delete t[Z],r=!0)})),r&&this.providers.columnProvider.refreshByType(t)}));const{source:t,oldNewIndexes:e}=this.getSource(!0);this.providers.dataProvider.setData(t,q,void 0,!0),this.updateTrimmed(void 0,void 0,e)}updateTrimmed(t={},e={},r,i){const o=function(t,e,r){const i={};for(let o in t){if("grouping"===o)continue;const s=t[o],a={};for(let t in s){let h=e[t];r&&(h=r[h]),s[t]&&(a[h]=!0,h!==parseInt(t,10)&&(i[o]=a))}}return i}(this.trimmed,r,i);for(let t in o)this.revogrid.addTrimmed(o[t],t);this.revogrid.addTrimmed(Object.assign({},t),"grouping")}}class me{constructor(){this.parentY=0}start(t,{pos:e,text:r,event:i}){var o;const{top:s}=t.getBoundingClientRect();this.parentY=s,this.text&&(this.text.innerText=r),this.move(e),this.moveTip({x:i.x,y:i.y}),null===(o=this.el)||void 0===o||o.classList.remove("hidden")}end(){var t;null===(t=this.el)||void 0===t||t.classList.add("hidden")}move(t){this.moveElement(t.end-this.parentY)}moveTip({x:t,y:e}){this.draggable&&(this.draggable.style.left=`${t}px`,this.draggable.style.top=`${e}px`)}moveElement(t){this.rgRow&&(this.rgRow.style.transform=`translateY(${t}px)`)}}const fe=({ref:e})=>{const r=new me;return e(r),t("div",{class:"draggable-wrapper hidden",ref:t=>r.el=t},t("div",{class:"draggable",ref:t=>r.draggable=t},t("span",{class:"hbr-alt-icon"}),t("span",{ref:t=>r.text=t})),t("div",{class:"drag-position",ref:t=>r.rgRow=t}))},we=({viewports:e,dimensions:r,orderRef:i,nakedClick:o,registerElement:s,onScroll:a,tbSelf:h,viewPortUUID:n},l)=>{let c;return[t("div",{class:"main-viewport",ref:t=>c=t,onClick:t=>((t,e)=>{e===t.target&&o(t)})(t,c),"view-port-uuid":n},t("div",{class:"viewports"},l,h.pagination?null:t("hbr-scroll-virtual",{class:"vertical",dimension:"rgRow",viewportStore:e.rgRow.store,dimensionStore:r.rgRow.store,ref:t=>s(t,"rowScroll"),onScrollVirtual:t=>a(t.detail)}),t(fe,{ref:i}))),t("hbr-scroll-virtual",{class:"horizontal",dimension:"rgCol",viewportStore:e.rgCol.store,dimensionStore:r.rgCol.store,ref:t=>s(t,"colScroll"),onScrollVirtual:t=>a(t.detail)})]};class ve{constructor(t,e){var r,i;this.sv=t,this.storesByType={},this.storesXToType={},this.storesYToType={},null===(r=this.sv.selectionStoreConnector)||void 0===r||r.beforeUpdate(),this.columns=this.getViewportColumnData(e),null===(i=this.sv.scrollingService)||void 0===i||i.unregister()}onColumnResize(t,e,r){var i;null===(i=this.sv.dimensionProvider)||void 0===i||i.setDimensionSize(t,e.detail);const o=f(e.detail||{},((t,e,i)=>{const o=w(r,parseInt(i,10));return o&&(t[o.prop]=Object.assign(Object.assign({},o),{size:e})),t}),{});this.sv.resize(o)}getViewportColumnData(t){const e=[];let r=0;return ut.forEach((i=>{const o=this.sv.columnProvider.stores[i].store;if(!o.get("items").length)return;const s={colType:i,position:{x:r,y:1},contentHeight:t,fixWidth:"rgCol"!==i,uuid:`${this.sv.uuid}-${r}`,viewports:this.sv.viewportProvider.stores,dimensions:this.sv.dimensionProvider.stores,rowStores:this.sv.dataProvider.stores,colStore:o,onHeaderresize:t=>this.onColumnResize(i,t,o)};"rgCol"===i&&(s.onResizeViewport=t=>{var e;return null===(e=this.sv.viewportProvider)||void 0===e?void 0:e.setViewport(t.detail.dimension,{virtualSize:t.detail.size})});const a=this.gatherColumnData(s),h=this.registerCol(a.position.x,i),n=this.dataViewPort(s).reduce(((t,e)=>{const r=this.registerSegment(e.position);r.setLastCell(e.lastCell);const i=this.registerRow(e.position.y,e.type),o=Object.assign(Object.assign({},e),{rowSelectionStore:i,segmentSelectionStore:r.store,ref:t=>this.sv.selectionStoreConnector.registerSection(t),onSetRange:t=>r.setRangeArea(t.detail),onSetTempRange:t=>r.setTempArea(t.detail),onFocusCell:t=>{r.clearFocus(),this.sv.selectionStoreConnector.focus(r,t.detail)},tbSelf:this.sv.tbSelf});return t.push(o),t}),[]);e.push(Object.assign(Object.assign({},a),{columnSelectionStore:h,dataPorts:n,tbSelf:this.sv.tbSelf})),r++})),e}registerSegment(t){return this.sv.selectionStoreConnector.register(t)}registerRow(t,e){return this.storesByType[e]=t,this.storesYToType[t]=e,this.sv.selectionStoreConnector.registerRow(t).store}registerCol(t,e){return this.storesByType[e]=t,this.storesXToType[t]=e,this.sv.selectionStoreConnector.registerColumn(t).store}gatherColumnData(t){const e=t.uuid,r=t.dimensions[t.colType].store.get("realSize"),i={contentWidth:r,class:t.colType,[`${H}`]:t.uuid,contentHeight:t.contentHeight,key:t.colType,onResizeViewport:t.onResizeViewport};t.fixWidth&&(i.style={minWidth:`${r}px`});const o={parent:e,colData:S(t.colStore),dimensionCol:t.dimensions[t.colType].store,groups:t.colStore.get("groups"),groupingDepth:t.colStore.get("groupingDepth"),onHeaderresize:t.onHeaderresize};return{prop:i,position:t.position,headerProp:o,parent:e,viewportCol:t.viewports[t.colType].store}}dataViewPort(t){const e={rowPinStart:Y,rgRow:Q,rowPinEnd:tt};let r=0;return bt.reduce(((i,o)=>{const s=t.viewports[o].store.get("realCount")||"rgRow"===o,a=Object.assign(Object.assign({},t),{position:Object.assign(Object.assign({},t.position),{y:s?r:K})});return i.push(this.dataPartition(a,o,e[o],"rgRow"!==o)),s&&r++,i}),[])}dataPartition(t,e,r,i){return{colData:t.colStore,viewportCol:t.viewports[t.colType].store,viewportRow:t.viewports[e].store,lastCell:X(t,e),slot:r,type:e,canDrag:!i,position:t.position,uuid:`${t.uuid}-${t.position.x}-${t.position.y}`,dataStore:t.rowStores[e].store,dimensionCol:t.dimensions[t.colType].store,dimensionRow:t.dimensions[e].store,style:i?{height:`${t.dimensions[e].store.get("realSize")}px`}:void 0}}scrollToCell(t){for(let e in t)this.sv.scrollingService.onScroll({dimension:"x"===e?"rgCol":"rgRow",coordinate:t[e]})}clearFocused(){this.sv.selectionStoreConnector.clearAll()}clearEdit(){this.sv.selectionStoreConnector.setEdit(!1)}getFocused(){const t=this.sv.selectionStoreConnector.focusedStore;if(!t)return null;const e=this.storesXToType[t.position.x],r=this.sv.columnProvider.getColumn(t.cell.x,e),i=this.storesYToType[t.position.x];return{column:r,model:this.sv.dataProvider.getModel(t.cell.x,i),cell:t.cell,colType:e,rowType:i}}setEdit(t,e,r,i){var o;const s=this.storesByType;null===(o=this.sv.selectionStoreConnector)||void 0===o||o.setEditByCell({x:s[r],y:s[i]},{x:e,y:t})}}const xe=({resize:e,editors:r,rowClass:i,readonly:o,range:s,columns:a,useClipboard:h,columnFilter:n,registerElement:l,onEdit:c,onScroll:d,tbSelf:b})=>{const u=[];for(let p of a){const a=[t("hbr-table-header",Object.assign({viewportCol:p.viewportCol},p.headerProp,{selectionStore:p.columnSelectionStore,slot:Y,columnFilter:n,canResize:e,tbSelf:b}))];p.dataPorts.forEach(((e,n)=>{const l=p.prop.key+(n+1),d=t("hbr-overlay-selection",Object.assign({},e,{slot:e.slot,selectionStore:e.segmentSelectionStore,editors:r,readonly:o,range:s,useClipboard:h,onSetEdit:({detail:t})=>c(t)}),t("hbr-table-data",Object.assign({},e,{[H]:e.uuid},{key:l,readonly:o,range:s,rowClass:i,rowSelectionStore:e.rowSelectionStore,slot:et})),t("hbr-temp-range",{selectionStore:e.segmentSelectionStore,dimensionRow:e.dimensionRow,dimensionCol:e.dimensionCol}),t("hbr-focus",{selectionStore:e.segmentSelectionStore,dimensionRow:e.dimensionRow,dimensionCol:e.dimensionCol}));a.push(d)})),u.push(t("hbr-viewport-scroll",Object.assign({},p.prop,{tbSelf:p.tbSelf,ref:t=>l(t,p.prop.key),onScrollViewport:t=>d(t.detail,p.prop.key)}),a))}return u},Ce=t=>(e,r)=>t+r.rowIndex,ye=({anyView:e,height:r,rowHeaderColumn:i,beforeRowAdd:o,onScrollViewport:s,onElementToScroll:a})=>{const h=[],n=new Ot;let l=1;for(let r of e.dataPorts){const e=new y("colPinStart"),s=o(r.position.y),a=new y(r.type);a.updateData(r.dataStore.get("source"));const c=Object.assign({cellTemplate:Ce(l)},i);e.updateData([c]),h.push(t("hbr-table-data",Object.assign({slot:"content"},r,{dataStore:a.store,colData:e.store,viewportCol:n.store,readonly:!0,range:!1,rowSelectionStore:s.store}))),l+=r.dataStore.get("items").length}const c=(null==i?void 0:i.size)||10*(l.toString().length+1);n.setViewport({realCount:1,virtualSize:0,items:[{size:c,start:0,end:c,itemIndex:0}]});const d=`${e.prop[H]}-rowHeaders`;return t("hbr-viewport-scroll",Object.assign({},{[H]:d},{contentHeight:r,contentWidth:0,class:"rowHeaders",key:"rowHeaders",style:{minWidth:`${c}px`},ref:t=>a(t),onScrollViewport:t=>s(t.detail)}),t("hbr-table-header",Object.assign({},Object.assign(Object.assign({},e.headerProp),{colData:"object"==typeof i?[i]:[]}),{viewportCol:n.store,parent:d,slot:"header",canResize:!1})),h)};class Se{constructor(t){this.setViewport=t,this.elements={}}async onScroll(t,e){let r;for(let i in this.elements)if(this.isPinnedColumn(e)&&"rgCol"===t.dimension){if(i===e||!t.delta)continue;for(let e of this.elements[i])e.changeScroll&&(r=e.changeScroll(t))}else for(let e of this.elements[i])e.setScroll(t);let i=t;r&&(i=await r),this.setViewport(i)}isPinnedColumn(t){return["colPinStart","colPinEnd"].indexOf(t)>-1}registerElements(t){this.elements=t}registerElement(t,e){this.elements[e]||(this.elements[e]=[]),t?this.elements[e].push(t):this.elements[e]&&delete this.elements[e]}unregister(){delete this.elements,this.elements={}}}class ke extends mt{constructor(t,e){super(t),this.dimensionProvider=e,this.stretchedColumn=null,this.scrollSize=M(document),this.addEventListener("beforecolumnapplied",(({detail:{columns:t}})=>this.applyStretch(t)))}setScroll({type:t,hasScroll:e}){var r;"rgRow"===t&&this.stretchedColumn&&(null===(r=this.stretchedColumn)||void 0===r?void 0:r.initialSize)===this.stretchedColumn.size&&e&&(this.stretchedColumn.size-=this.scrollSize,this.apply(),this.dropChanges())}activateChanges(){this.addEventListener("scrollchange",(({detail:t})=>this.setScroll(t)))}dropChanges(){this.stretchedColumn=null,this.removeEventListener("scrollchange")}apply(){this.stretchedColumn&&this.dimensionProvider.setDimensionSize("rgCol",{[this.stretchedColumn.index]:this.stretchedColumn.size})}applyStretch(t){this.dropChanges();let e=this.hbrtable.clientWidth-1;if(rt.each(t,((t,r)=>{const i=this.dimensionProvider.stores[r].store.get("realSize");e-=i})),e>0){const r=t.rgCol.length-1,i=t.rgCol[r],o=(null==i?void 0:i.size)||this.hbrtable.colSize||0,s=e+o-1;i&&!i.autoSize&&o<s&&(this.stretchedColumn={initialSize:s,index:r,size:s},this.apply(),this.activateChanges())}}}class Le extends mt{constructor(e){var r,i,o;super(e.element),this.tbSelf=e,this.handlePageChanged=this.handlePageChanged.bind(this),this.changePageNumber=this.changePageNumber.bind(this),this.hanleScrollPostion=this.hanleScrollPostion.bind(this),this.addEventListener("hbr-page-changed",this.handlePageChanged),this.addEventListener("hbr-size-changed",this.handlePageChanged),e.element.addEventListener("afterFilterApply",this.hanleScrollPostion),e.subscribers&&"object"==typeof e.subscribers&&(e.subscribers["hbr-page-changed"]=this.handlePageChanged,e.subscribers["hbr-size-changed"]=this.handlePageChanged),this.tbSelf.element.registerVNode([t("hbr-pagination",{uuid:`pagination-${e.uuid}`,page:(null===(r=null==e?void 0:e.pagination)||void 0===r?void 0:r.page)||0,"page-size":(null===(i=null==e?void 0:e.pagination)||void 0===i?void 0:i.pageSize)||10,"item-count":(null===(o=null==e?void 0:e.source)||void 0===o?void 0:o.length)||0,ref:t=>this.paginationRef=t})]),setTimeout((()=>{var t,r,i;if(null===(t=e.pagination)||void 0===t?void 0:t.page){const t=(null===(r=null==e?void 0:e.pagination)||void 0===r?void 0:r.pageSize)||10,o=null===(i=null==e?void 0:e.pagination)||void 0===i?void 0:i.page;this.tbSelf.scrollToRow(o*t)}}),500)}destroy(){this.tbSelf.element.removeEventListener("afterFilterApply",this.hanleScrollPostion)}changePageNumber(t){var e,r,i,o;this.clearSelection();const s=(null===(r=null===(e=this.tbSelf)||void 0===e?void 0:e.themeService)||void 0===r?void 0:r.rowSize)||0,a=(null===(o=null===(i=this.tbSelf)||void 0===i?void 0:i.pagination)||void 0===o?void 0:o.pageSize)||10;let h=t.detail.coordinate/s/a;h=Math.floor(h),h=h<0?0:h,this.paginationRef&&(this.paginationRef.page=h)}hanleScrollPostion(){this.tbSelf.scrollToRow(0)}handlePageChanged(t){var e,r;this.clearSelection();const i=(null==t?void 0:t.target)||this.paginationRef,o=(null==i?void 0:i.pageSize)||0;let s=(null==t?void 0:t.detail)||0;"number"==typeof(null===(e=this.tbSelf.pagination)||void 0===e?void 0:e.page)&&(this.tbSelf.pagination.page=s),"number"==typeof(null===(r=this.tbSelf.pagination)||void 0===r?void 0:r.pageSize)&&(this.tbSelf.pagination.pageSize=o),"number"==typeof(null==t?void 0:t.detail)&&Number.isInteger(s)||(s=0),this.tbSelf.scrollToRow(s*o),this.tbSelf.element.refresh()}clearSelection(){var t,e,r,i,o,s;null===(e=null===(t=this.tbSelf)||void 0===t?void 0:t.selectionStoreConnector)||void 0===e||e.clearAll(),null===(i=null===(r=this.tbSelf)||void 0===r?void 0:r.selectionStoreConnector)||void 0===i||i.setEdit(!1),null===(s=null===(o=this.tbSelf)||void 0===o?void 0:o.viewport)||void 0===s||s.clearFocused()}rePagination(){this.clearSelection();const t=this.tbSelf.dataProvider.stores.rgRow.store.get("items");t&&(this.paginationRef.itemCount=t.length,this.paginationRef.page=0)}getPageSize(){var t,e;return(null===(t=this.paginationRef)||void 0===t?void 0:t.pageSize)||(null===(e=this.tbSelf.pagination)||void 0===e?void 0:e.pageSize)||10}getRowSize(){var t,e;return(null===(e=null===(t=this.tbSelf)||void 0===t?void 0:t.themeService)||void 0===e?void 0:e.rowSize)||42}getRealSize(t){const e=this.getVerticalInnerHeight();let r=0;const i=this.getPageSize(),o=this.getRowSize(),s=Math.ceil(t/i);if(r=o*i*s,e){const t=s*e;t>r&&(r=t)}return r}canSelectOrEditPagination(t){var e,r;const i=null===(e=this.paginationRef)||void 0===e?void 0:e.pageSize,o=(null===(r=this.paginationRef)||void 0===r?void 0:r.page)+1;return!!(!t||t&&t.y<i*o-i||t&&t.y>=i*o)}getRows(t){var e;const r=this.tbSelf.dataProvider.stores.rgRow.dataStore.get("items"),i=this.getPageSize(),o=null===(e=this.paginationRef)||void 0===e?void 0:e.page;return t.filter((({itemIndex:t})=>{const e=i*o;return e<=t&&t<e+i&&t<r.length}))}getVerticalInnerHeight(){var t;const e=this.tbSelf.element.querySelector(".vertical-inner");return null===(t=null==e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.height}getLastPageHeight(){return this.tbSelf.dataProvider.stores.rgRow.dataStore.get("items").length%this.getPageSize()*this.getRowSize()}isStopScrolling(){const t=this.getVerticalInnerHeight(),e=this.getLastPageHeight(),r=this.isLastPage();return t&&r&&e&&e<t}isLastPage(){const t=this.getPageSize(),e=Math.ceil(this.paginationRef.itemCount/t);return this.paginationRef.page+1===e}}const Re=class{constructor(t){e(this,t),this.beforeedit=r(this,"beforeedit",7),this.beforerangeedit=r(this,"beforerangeedit",7),this.afteredit=r(this,"afteredit",7),this.beforeautofill=r(this,"beforeautofill",7),this.beforeaange=r(this,"beforeaange",7),this.roworderchanged=r(this,"roworderchanged",7),this.beforesourcesortingapply=r(this,"beforesourcesortingapply",7),this.beforesortingapply=r(this,"beforesortingapply",7),this.beforesorting=r(this,"beforesorting",7),this.rowdragstart=r(this,"rowdragstart",7),this.headerclick=r(this,"headerclick",7),this.beforecellfocus=r(this,"beforecellfocus",7),this.beforefocuslost=r(this,"beforefocuslost",7),this.beforesourceset=r(this,"beforesourceset",7),this.aftersourceset=r(this,"aftersourceset",7),this.beforecolumnsset=r(this,"beforecolumnsset",7),this.beforecolumnapplied=r(this,"beforecolumnapplied",7),this.aftercolumnsset=r(this,"aftercolumnsset",7),this.beforefilterapply=r(this,"beforefilterapply",7),this.beforefiltertrimmed=r(this,"beforefiltertrimmed",7),this.beforetrimmed=r(this,"beforetrimmed",7),this.aftertrimmed=r(this,"aftertrimmed",7),this.viewportscroll=r(this,"viewportscroll",7),this.beforeexport=r(this,"beforeexport",7),this.beforeeditstart=r(this,"beforeeditstart",7),this.aftercolumnresize=r(this,"aftercolumnresize",7),this.frameSize=1,this.rowSize=0,this.colSize=100,this.range=!1,this.readonly=!1,this.resize=!1,this.canFocus=!0,this.useClipboard=!0,this.disableFiltering=!0,this.enableColumnPopSelect=!1,this.columns=[],this.source=[],this.pinnedTopSource=[],this.pinnedBottomSource=[],this.rowDefinitions=[],this.editors={},this.columnTypes={},this.theme="cohesion",this.rowClass="",this.autoSizeColumn=!1,this.filter=!1,this.trimmedRows={},this.exporting=!1,this.stretch=!0,this.extraElements=[],this.uuid=null,this.viewport=null,this.internalPlugins=[],this.subscribers={}}async refresh(t="all"){this.dataProvider.refresh(t)}async scrollToRow(t=0){const e=this.dimensionProvider.getViewPortPos({coordinate:t,dimension:"rgRow"});await this.scrollToCoordinate({y:e})}async scrollToColumnIndex(t=0){const e=this.dimensionProvider.getViewPortPos({coordinate:t,dimension:"rgCol"});await this.scrollToCoordinate({x:e})}async scrollToColumnProp(t){const e=this.columnProvider.getColumnIndexByProp(t,"rgCol");if(e<0)return;const r=this.dimensionProvider.getViewPortPos({coordinate:e,dimension:"rgCol"});await this.scrollToCoordinate({x:r})}async updateColumns(t){this.columnProvider.updateColumns(t)}async addTrimmed(t,e="external",r="rgRow"){const i=this.beforetrimmed.emit({trimmed:t,trimmedType:e,type:r});return i.defaultPrevented||(this.dataProvider.setTrimmed({[e]:i.detail.trimmed},r),this.aftertrimmed.emit()),i}async scrollToCoordinate(t){var e;null===(e=this.viewport)||void 0===e||e.scrollToCell(t)}async setCellEdit(t,e,r="rgRow"){var i;const o=wt.getColumnByProp(this.columns,e);o&&(await z(),null===(i=this.viewport)||void 0===i||i.setEdit(t,this.columnProvider.getColumnIndexByProp(e,"rgCol"),o.pin||"rgCol",r))}async registerVNode(t){this.extraElements.push(...t),this.extraElements=[...this.extraElements]}async getSource(t="rgRow"){return this.dataProvider.stores[t].store.get("source")}async getVisibleSource(t="rgRow"){return S(this.dataProvider.stores[t].store)}async getSourceStore(t="rgRow"){return this.dataProvider.stores[t].store}async getColumnStore(t="rgCol"){return this.columnProvider.stores[t].store}async updateColumnSorting(t,e,r){return this.columnProvider.updateColumnSorting(t,e,r)}async getColumns(){return this.columnProvider.getColumns()}async clearFocus(){var t;const e=await this.getFocused();this.beforefocuslost.emit(e).defaultPrevented||(this.selectionStoreConnector.clearAll(),null===(t=this.viewport)||void 0===t||t.clearFocused())}async getPlugins(){return[...this.internalPlugins]}async getFocused(){var t;return null===(t=this.viewport)||void 0===t?void 0:t.getFocused()}getPlugin(t){const e=this.internalPlugins.filter((e=>e instanceof t));if(e.length)return e[0]}async clearFilter(){const t=this.getPlugin(Gt);if(t)return t.handleClearFilter()}async handleFilter(t){const e=this.getPlugin(Gt);if(e)return e.handleFilter(t)}async setRowSize(){this.themeService=new lt({rowSize:this.rowSize}),this.dimensionProvider.setSettings({originItemSize:this.rowSize},"rgRow"),this.dimensionProvider.setRealSize(this.source.length,"rgRow");const t=this.source;this.source=[],this.source=t}async handleSorting(t,e,r){const i=this.getPlugin(oe);if(i)return i.handleSorting(t,e,r)}handleOutsideClick({target:t}){(null==t?void 0:t.closest(`[view-port-uuid="${this.uuid}"]`))||this.clearFocus()}onRowDragStarted(t){var e;t.cancelBubble=!0;const r=this.rowdragstart.emit(t.detail);r.defaultPrevented?t.preventDefault():null===(e=this.orderService)||void 0===e||e.start(this.element,Object.assign(Object.assign({},t.detail),r.detail))}onRowDragEnd(){var t;null===(t=this.orderService)||void 0===t||t.end()}onRowDrag({detail:t}){var e;null===(e=this.orderService)||void 0===e||e.move(t)}onRowMouseMove(t){var e;t.cancelBubble=!0,null===(e=this.orderService)||void 0===e||e.moveTip(t.detail)}async onBeforeEdit(t){t.cancelBubble=!0;const{defaultPrevented:e,detail:r}=this.beforeedit.emit(t.detail);await z(),e||(this.dataProvider.setCellData(r),this.afteredit.emit(r))}onBeforeRangeEdit(t){t.cancelBubble=!0;const{defaultPrevented:e}=this.beforerangeedit.emit(t.detail);e?t.preventDefault():this.afteredit.emit(t.detail)}onRangeChanged(t){t.cancelBubble=!0,this.beforeaange.emit(t.detail).defaultPrevented&&t.preventDefault(),this.beforeautofill.emit(t.detail)}onRowDropped(t){t.cancelBubble=!0;const{defaultPrevented:e}=this.roworderchanged.emit(t.detail);e&&t.preventDefault()}onHeaderClick(t){const{defaultPrevented:e}=this.headerclick.emit(Object.assign(Object.assign({},t.detail.column),{originalEvent:t.detail.originalEvent}));e&&t.preventDefault()}onCellFocus(t){t.cancelBubble=!0;const{defaultPrevented:e}=this.beforecellfocus.emit(t.detail);this.canFocus&&!e||t.preventDefault()}rePagination(){this.paginationPlugin&&this.paginationPlugin.rePagination()}columnChanged(t=[]){this.dimensionProvider.drop();const e=wt.getColumns(t,0,this.columnTypes);this.beforecolumnsset.emit(e);for(let t of ut){const r=e.columns[t];this.dimensionProvider.setRealSize(r.length,t),this.dimensionProvider.setColumns(t,wt.getSizes(r),"rgCol"!==t)}this.beforecolumnapplied.emit(e);const r=this.columnProvider.setColumns(e);this.aftercolumnsset.emit({columns:r,order:this.columnProvider.order})}themeChanged(t){this.themeService.register(t),this.dimensionProvider.setSettings({originItemSize:this.themeService.rowSize,frameOffset:this.frameSize||0},"rgRow"),this.dimensionProvider.setSettings({originItemSize:this.colSize,frameOffset:this.frameSize||0},"rgCol")}dataChanged(t=[]){let e=[...t];e=this.beforesourceset.emit({type:"rgRow",source:e}).detail.source,e=this.dataProvider.setData(e,"rgRow"),this.aftersourceset.emit({type:"rgRow",source:e})}dataBottomChanged(t=[]){this.dataProvider.setData(t,"rowPinEnd")}dataTopChanged(t=[]){this.dataProvider.setData(t,"rowPinStart")}rowDefChanged(t=[]){if(!t.length)return;const e=f(t,((t,e)=>("row"===e.type&&(e.type="rgRow"),t[e.type]||(t[e.type]={}),e.size&&(t[e.type].sizes||(t[e.type].sizes={}),t[e.type].sizes[e.index]=e.size),t)),{});x(e,((t,e)=>{t.sizes&&this.dimensionProvider.setDimensionSize(e,t.sizes)}))}trimmedRowsChanged(t={}){this.addTrimmed(t)}groupingChanged(t={}){let e;for(let t of this.internalPlugins){const r=t;if(r.setGrouping){e=r;break}}e&&e.setGrouping(t||{})}applyStretch(t){let e=this.internalPlugins.filter((t=>!!t.applyStretch))[0];if(t)e?e.applyStretch(this.columnProvider.getRawColumns()):this.internalPlugins.push(new ke(this.element,this.dimensionProvider));else if(e){const t=this.internalPlugins.indexOf(e);this.internalPlugins.splice(t,1)}}async handleSearchTextChange(){const t=this.getPlugin(Gt);if(t)return await t.handleSearchTextChange(this.searchText||"")}connectedCallback(){this.viewportProvider=new zt,this.themeService=new lt({rowSize:this.rowSize}),this.dimensionProvider=new yt(this.viewportProvider),this.columnProvider=new wt,this.dataProvider=new vt(this.dimensionProvider,this),this.uuid=`${(new Date).getTime()}-hbrtable`,this.autoSizeColumn&&this.internalPlugins.push(new Pt(this.element,{dataProvider:this.dataProvider,columnProvider:this.columnProvider,dimensionProvider:this.dimensionProvider},"object"==typeof this.autoSizeColumn?this.autoSizeColumn:void 0)),this.filter&&this.internalPlugins.push(new Gt(this.element,this.uuid,"object"==typeof this.filter?this.filter:void 0)),this.exporting&&this.internalPlugins.push(new pe(this.element)),this.internalPlugins.push(new oe(this.element)),this.plugins&&this.plugins.forEach((t=>{this.internalPlugins.push(new t(this.element))})),this.pagination&&(this.paginationPlugin=new Le(this),this.internalPlugins.push(this.paginationPlugin)),this.internalPlugins.push(new ge(this.element,{dataProvider:this.dataProvider,columnProvider:this.columnProvider})),this.applyStretch(this.stretch),this.themeChanged(this.theme),this.columnChanged(this.columns),this.dataChanged(this.source),this.dataTopChanged(this.pinnedTopSource),this.dataBottomChanged(this.pinnedBottomSource),this.trimmedRowsChanged(this.trimmedRows),this.rowDefChanged(this.rowDefinitions),this.groupingChanged(this.grouping),this.selectionStoreConnector=new it,this.scrollingService=new Se((t=>{this.dimensionProvider.setViewPortCoordinate({coordinate:t.coordinate,type:t.dimension}),this.viewportscroll.emit(t)})),this.subscribers={click:this.handleOutsideClick.bind(this)};for(let t in this.subscribers)document.addEventListener(t,this.subscribers[t])}disconnectedCallback(){x(this.internalPlugins,(t=>t.destroy())),this.internalPlugins=[];for(let t in this.subscribers)document.removeEventListener(t,this.subscribers[t]),delete this.subscribers[t]}render(){const e=this.dimensionProvider.stores.rgRow.store.get("realSize");return this.viewport=new ve({columnProvider:this.columnProvider,dataProvider:this.dataProvider,dimensionProvider:this.dimensionProvider,viewportProvider:this.viewportProvider,uuid:this.uuid,scrollingService:this.scrollingService,orderService:this.orderService,selectionStoreConnector:this.selectionStoreConnector,resize:t=>this.aftercolumnresize.emit(t),tbSelf:this},e),t(i,Object.assign({},{[`${H}`]:this.uuid}),t("slot",{name:"header"}),t(we,{viewports:this.viewportProvider.stores,dimensions:this.dimensionProvider.stores,orderRef:t=>this.orderService=t,registerElement:(t,e)=>this.scrollingService.registerElement(t,e),nakedClick:()=>this.viewport.clearEdit(),onScroll:t=>this.scrollingService.onScroll(t),tbSelf:this,viewPortUUID:this.uuid},this.rowHeaders?t(ye,{height:e,anyView:this.viewport.columns[0],resize:this.resize,rowHeaderColumn:"object"==typeof this.rowHeaders?this.rowHeaders:void 0,beforeRowAdd:t=>this.selectionStoreConnector.registerRow(t),onScrollViewport:t=>this.scrollingService.onScroll(t,"headerRow"),onElementToScroll:t=>this.scrollingService.registerElement(t,"headerRow")}):"",t(xe,{tbSelf:this,columnFilter:!!this.filter,resize:this.resize,readonly:this.readonly,range:this.range,rowClass:this.rowClass,editors:this.editors,useClipboard:this.useClipboard,columns:this.viewport.columns,onEdit:t=>{this.beforeeditstart.emit(t).defaultPrevented||this.selectionStoreConnector.setEdit(!t.isCancel&&t.val)},registerElement:(t,e)=>this.scrollingService.registerElement(t,e),onScroll:t=>this.scrollingService.onScroll(t)})),this.extraElements,t("slot",{name:"footer"}))}get element(){return o(this)}static get watchers(){return{columns:["columnChanged"],theme:["themeChanged"],source:["dataChanged"],pinnedBottomSource:["dataBottomChanged"],pinnedTopSource:["dataTopChanged"],rowDefinitions:["rowDefChanged"],trimmedRows:["trimmedRowsChanged"],grouping:["groupingChanged"],stretch:["applyStretch"],searchText:["handleSearchTextChange"]}}};Re.style=".hbr-table-drag-icon{-webkit-mask-image:url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg viewBox='0 0 438 383' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg%3E%3Cpath d='M421.875,70.40625 C426.432292,70.40625 430.175781,68.9414062 433.105469,66.0117188 C436.035156,63.0820312 437.5,59.3385417 437.5,54.78125 L437.5,54.78125 L437.5,15.71875 C437.5,11.1614583 436.035156,7.41796875 433.105469,4.48828125 C430.175781,1.55859375 426.432292,0.09375 421.875,0.09375 L421.875,0.09375 L15.625,0.09375 C11.0677083,0.09375 7.32421875,1.55859375 4.39453125,4.48828125 C1.46484375,7.41796875 0,11.1614583 0,15.71875 L0,15.71875 L0,54.78125 C0,59.3385417 1.46484375,63.0820312 4.39453125,66.0117188 C7.32421875,68.9414062 11.0677083,70.40625 15.625,70.40625 L15.625,70.40625 L421.875,70.40625 Z M421.875,226.65625 C426.432292,226.65625 430.175781,225.191406 433.105469,222.261719 C436.035156,219.332031 437.5,215.588542 437.5,211.03125 L437.5,211.03125 L437.5,171.96875 C437.5,167.411458 436.035156,163.667969 433.105469,160.738281 C430.175781,157.808594 426.432292,156.34375 421.875,156.34375 L421.875,156.34375 L15.625,156.34375 C11.0677083,156.34375 7.32421875,157.808594 4.39453125,160.738281 C1.46484375,163.667969 0,167.411458 0,171.96875 L0,171.96875 L0,211.03125 C0,215.588542 1.46484375,219.332031 4.39453125,222.261719 C7.32421875,225.191406 11.0677083,226.65625 15.625,226.65625 L15.625,226.65625 L421.875,226.65625 Z M421.875,382.90625 C426.432292,382.90625 430.175781,381.441406 433.105469,378.511719 C436.035156,375.582031 437.5,371.838542 437.5,367.28125 L437.5,367.28125 L437.5,328.21875 C437.5,323.661458 436.035156,319.917969 433.105469,316.988281 C430.175781,314.058594 426.432292,312.59375 421.875,312.59375 L421.875,312.59375 L15.625,312.59375 C11.0677083,312.59375 7.32421875,314.058594 4.39453125,316.988281 C1.46484375,319.917969 0,323.661458 0,328.21875 L0,328.21875 L0,367.28125 C0,371.838542 1.46484375,375.582031 4.39453125,378.511719 C7.32421875,381.441406 11.0677083,382.90625 15.625,382.90625 L15.625,382.90625 L421.875,382.90625 Z'%3E%3C/path%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg viewBox='0 0 438 383' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg%3E%3Cpath d='M421.875,70.40625 C426.432292,70.40625 430.175781,68.9414062 433.105469,66.0117188 C436.035156,63.0820312 437.5,59.3385417 437.5,54.78125 L437.5,54.78125 L437.5,15.71875 C437.5,11.1614583 436.035156,7.41796875 433.105469,4.48828125 C430.175781,1.55859375 426.432292,0.09375 421.875,0.09375 L421.875,0.09375 L15.625,0.09375 C11.0677083,0.09375 7.32421875,1.55859375 4.39453125,4.48828125 C1.46484375,7.41796875 0,11.1614583 0,15.71875 L0,15.71875 L0,54.78125 C0,59.3385417 1.46484375,63.0820312 4.39453125,66.0117188 C7.32421875,68.9414062 11.0677083,70.40625 15.625,70.40625 L15.625,70.40625 L421.875,70.40625 Z M421.875,226.65625 C426.432292,226.65625 430.175781,225.191406 433.105469,222.261719 C436.035156,219.332031 437.5,215.588542 437.5,211.03125 L437.5,211.03125 L437.5,171.96875 C437.5,167.411458 436.035156,163.667969 433.105469,160.738281 C430.175781,157.808594 426.432292,156.34375 421.875,156.34375 L421.875,156.34375 L15.625,156.34375 C11.0677083,156.34375 7.32421875,157.808594 4.39453125,160.738281 C1.46484375,163.667969 0,167.411458 0,171.96875 L0,171.96875 L0,211.03125 C0,215.588542 1.46484375,219.332031 4.39453125,222.261719 C7.32421875,225.191406 11.0677083,226.65625 15.625,226.65625 L15.625,226.65625 L421.875,226.65625 Z M421.875,382.90625 C426.432292,382.90625 430.175781,381.441406 433.105469,378.511719 C436.035156,375.582031 437.5,371.838542 437.5,367.28125 L437.5,367.28125 L437.5,328.21875 C437.5,323.661458 436.035156,319.917969 433.105469,316.988281 C430.175781,314.058594 426.432292,312.59375 421.875,312.59375 L421.875,312.59375 L15.625,312.59375 C11.0677083,312.59375 7.32421875,314.058594 4.39453125,316.988281 C1.46484375,319.917969 0,323.661458 0,328.21875 L0,328.21875 L0,367.28125 C0,371.838542 1.46484375,375.582031 4.39453125,378.511719 C7.32421875,381.441406 11.0677083,382.90625 15.625,382.90625 L15.625,382.90625 L421.875,382.90625 Z'%3E%3C/path%3E%3C/g%3E%3C/svg%3E\");width:11px;height:7px;background-size:cover;background-repeat:no-repeat}.hbr-table-alt-icon{-webkit-mask-image:url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg viewBox='0 0 384 383' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg%3E%3Cpath d='M192.4375,383 C197.424479,383 201.663411,381.254557 205.154297,377.763672 L205.154297,377.763672 L264.25,318.667969 C270.234375,312.683594 271.605794,306.075846 268.364258,298.844727 C265.122721,291.613607 259.51237,287.998047 251.533203,287.998047 L251.533203,287.998047 L213.382812,287.998047 L213.382812,212.445312 L288.935547,212.445312 L288.935547,250.595703 C288.935547,258.57487 292.551107,264.185221 299.782227,267.426758 C307.013346,270.668294 313.621094,269.296875 319.605469,263.3125 L319.605469,263.3125 L378.701172,204.216797 C382.192057,200.725911 383.9375,196.486979 383.9375,191.5 C383.9375,186.513021 382.192057,182.274089 378.701172,178.783203 L378.701172,178.783203 L319.605469,119.6875 C313.621094,114.201823 307.013346,112.955078 299.782227,115.947266 C292.551107,118.939453 288.935547,124.42513 288.935547,132.404297 L288.935547,132.404297 L288.935547,170.554688 L213.382812,170.554688 L213.382812,95.0019531 L251.533203,95.0019531 C259.51237,95.0019531 264.998047,91.3863932 267.990234,84.1552734 C270.982422,76.9241536 269.735677,70.3164062 264.25,64.3320312 L264.25,64.3320312 L205.154297,5.23632812 C201.663411,1.74544271 197.424479,0 192.4375,0 C187.450521,0 183.211589,1.74544271 179.720703,5.23632812 L179.720703,5.23632812 L120.625,64.3320312 C114.640625,70.3164062 113.269206,76.9241536 116.510742,84.1552734 C119.752279,91.3863932 125.36263,95.0019531 133.341797,95.0019531 L133.341797,95.0019531 L171.492188,95.0019531 L171.492188,170.554688 L95.9394531,170.554688 L95.9394531,132.404297 C95.9394531,124.42513 92.3238932,118.814779 85.0927734,115.573242 C77.8616536,112.331706 71.2539062,113.703125 65.2695312,119.6875 L65.2695312,119.6875 L6.17382812,178.783203 C2.68294271,182.274089 0.9375,186.513021 0.9375,191.5 C0.9375,196.486979 2.68294271,200.725911 6.17382812,204.216797 L6.17382812,204.216797 L65.2695312,263.3125 C71.2539062,268.798177 77.8616536,270.044922 85.0927734,267.052734 C92.3238932,264.060547 95.9394531,258.57487 95.9394531,250.595703 L95.9394531,250.595703 L95.9394531,212.445312 L171.492188,212.445312 L171.492188,287.998047 L133.341797,287.998047 C125.36263,287.998047 119.876953,291.613607 116.884766,298.844727 C113.892578,306.075846 115.139323,312.683594 120.625,318.667969 L120.625,318.667969 L179.720703,377.763672 C183.211589,381.254557 187.450521,383 192.4375,383 Z'%3E%3C/path%3E%3C/g%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg viewBox='0 0 384 383' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg%3E%3Cpath d='M192.4375,383 C197.424479,383 201.663411,381.254557 205.154297,377.763672 L205.154297,377.763672 L264.25,318.667969 C270.234375,312.683594 271.605794,306.075846 268.364258,298.844727 C265.122721,291.613607 259.51237,287.998047 251.533203,287.998047 L251.533203,287.998047 L213.382812,287.998047 L213.382812,212.445312 L288.935547,212.445312 L288.935547,250.595703 C288.935547,258.57487 292.551107,264.185221 299.782227,267.426758 C307.013346,270.668294 313.621094,269.296875 319.605469,263.3125 L319.605469,263.3125 L378.701172,204.216797 C382.192057,200.725911 383.9375,196.486979 383.9375,191.5 C383.9375,186.513021 382.192057,182.274089 378.701172,178.783203 L378.701172,178.783203 L319.605469,119.6875 C313.621094,114.201823 307.013346,112.955078 299.782227,115.947266 C292.551107,118.939453 288.935547,124.42513 288.935547,132.404297 L288.935547,132.404297 L288.935547,170.554688 L213.382812,170.554688 L213.382812,95.0019531 L251.533203,95.0019531 C259.51237,95.0019531 264.998047,91.3863932 267.990234,84.1552734 C270.982422,76.9241536 269.735677,70.3164062 264.25,64.3320312 L264.25,64.3320312 L205.154297,5.23632812 C201.663411,1.74544271 197.424479,0 192.4375,0 C187.450521,0 183.211589,1.74544271 179.720703,5.23632812 L179.720703,5.23632812 L120.625,64.3320312 C114.640625,70.3164062 113.269206,76.9241536 116.510742,84.1552734 C119.752279,91.3863932 125.36263,95.0019531 133.341797,95.0019531 L133.341797,95.0019531 L171.492188,95.0019531 L171.492188,170.554688 L95.9394531,170.554688 L95.9394531,132.404297 C95.9394531,124.42513 92.3238932,118.814779 85.0927734,115.573242 C77.8616536,112.331706 71.2539062,113.703125 65.2695312,119.6875 L65.2695312,119.6875 L6.17382812,178.783203 C2.68294271,182.274089 0.9375,186.513021 0.9375,191.5 C0.9375,196.486979 2.68294271,200.725911 6.17382812,204.216797 L6.17382812,204.216797 L65.2695312,263.3125 C71.2539062,268.798177 77.8616536,270.044922 85.0927734,267.052734 C92.3238932,264.060547 95.9394531,258.57487 95.9394531,250.595703 L95.9394531,250.595703 L95.9394531,212.445312 L171.492188,212.445312 L171.492188,287.998047 L133.341797,287.998047 C125.36263,287.998047 119.876953,291.613607 116.884766,298.844727 C113.892578,306.075846 115.139323,312.683594 120.625,318.667969 L120.625,318.667969 L179.720703,377.763672 C183.211589,381.254557 187.450521,383 192.4375,383 Z'%3E%3C/path%3E%3C/g%3E%3C/svg%3E\");width:11px;height:11px;background-size:cover;background-repeat:no-repeat}.hbr-table-arrow-down{position:absolute;right:5px;top:0}.hbr-table-arrow-down svg{width:8px;margin-top:5px;margin-left:5px;opacity:0.4}.hbr-table-cell-value-wrapper{margin-right:10px;overflow:hidden;text-overflow:ellipsis}.hbr-table-button{position:relative;overflow:hidden;color:#fff;background-color:#6200ee;height:34px;line-height:34px;padding:0 15px;outline:0;border:0;border-radius:7px;box-sizing:border-box;cursor:pointer}.hbr-table-button.green{background-color:#2ee072;border:1px solid #20d565}.hbr-table-button.light{border:2px solid #cedefa;line-height:32px;background:none;color:#4876ca;box-shadow:none}.hbr-hide{display:none}:host{}:host svg+div>div.chart--custom-tooltip{background:var(--hbr-color-neutral-background);color:var(--hbr-color-neutral-text);font-size:var(--hbr-font-size-xs);font-family:var(--hbr-font-body);border-radius:var(--hbr-border-radius-md);box-shadow:var(--hbr-shadow-md);padding:var(--hbr-spacing-sm)}:host svg+div>div.chart--custom-tooltip .tooltip-content .tooltip-content-title{padding-bottom:var(--hbr-spacing-sm)}:host svg+div>div.chart--custom-tooltip .tooltip-content div.tooltip-content-item{display:flex;width:100%;align-items:center;justify-content:space-between;font-size:var(--hbr-font-size-xs);font-weight:var(--hbr-font-weight-light)}:host svg+div>div.chart--custom-tooltip .tooltip-content div.tooltip-content-item:not(:last-child){padding-bottom:var(--hbr-spacing-sm)}:host svg+div>div.chart--custom-tooltip .tooltip-content div.tooltip-content-item div.tooltip-content-shape span{width:var(--hbr-spacing-xs);height:var(--hbr-spacing-xs);border-radius:var(--hbr-border-radius-circle);display:inline-block}:host svg+div>div.chart--custom-tooltip .tooltip-content div.tooltip-content-item div.tooltip-content-id{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:100%;padding-left:var(--hbr-spacing-2xs);padding-right:var(--hbr-spacing-xl);text-align:left}:host svg+div>div.chart--custom-tooltip .tooltip-content div.tooltip-content-item div:last-child{margin-left:auto}:host svg+div.chart--custom-tooltip-wrapper{pointer-events:none;position:absolute;z-index:var(--hbr-z-index-tooltip);top:-10px;left:0px}hbr-table[theme=default]{font-size:12px}hbr-table[theme=default] hbr-table-header{text-align:center;line-height:30px;background-color:#f8f9fa}hbr-table[theme=default] hbr-table-header .group-rgRow{box-shadow:none}hbr-table[theme=default] hbr-table-header .header-rgRow,hbr-table[theme=default] hbr-table-header .group-rgRow{text-transform:uppercase;font-size:12px;color:#61656a}hbr-table[theme=default] hbr-table-header .header-rgRow{height:30px;box-shadow:0 -1px 0 0 #c0c0c0 inset}hbr-table[theme=default] hbr-table-header .rgHeaderCell{box-shadow:-1px 0 0 0 #c0c0c0, -1px 0 0 0 #c0c0c0 inset, 0 -1px 0 0 #c0c0c0, 0 -1px 0 0 #c0c0c0 inset}hbr-table[theme=default] hbr-table-header .rgHeaderCell.focused-cell{background:rgba(233, 234, 237, 0.5)}hbr-table[theme=default] hbr-viewport-scroll.rowHeaders{background-color:#f8f9fa}hbr-table[theme=default] hbr-viewport-scroll.rowHeaders hbr-table-data .rgCell{color:#61656a;box-shadow:0 -1px 0 0 #c0c0c0 inset, -1px 0 0 0 #c0c0c0 inset}hbr-table[theme=default] hbr-viewport-scroll.rowHeaders hbr-table-header{box-shadow:0 -1px 0 0 #c0c0c0 inset, -1px 0 0 0 #c0c0c0 inset}hbr-table[theme=default] hbr-viewport-scroll.colPinStart hbr-table-data .rgRow .rgCell:last-child{box-shadow:0 -1px 0 0 #e2e3e3 inset, -1px 0 0 0 #c0c0c0 inset}hbr-table[theme=default] hbr-viewport-scroll.colPinStart .footer-wrapper hbr-table-data .rgRow:first-child .rgCell{box-shadow:0 1px 0 0 #c0c0c0 inset, -1px 0 0 0 #c0c0c0 inset}hbr-table[theme=default] hbr-viewport-scroll.colPinEnd,hbr-table[theme=default] hbr-viewport-scroll.colPinEnd hbr-table-header{box-shadow:1px 0 0 #c0c0c0 inset}hbr-table[theme=default] .footer-wrapper hbr-table-data .rgRow:first-child .rgCell{box-shadow:0 1px 0 0 #e2e3e3 inset, -1px 0 0 0 #e2e3e3 inset, 0 -1px 0 0 #e2e3e3 inset}hbr-table[theme=default] hbr-table-data{text-align:center}hbr-table[theme=default] hbr-table-data .rgRow{line-height:27px;box-shadow:0 -1px 0 0 #e2e3e3 inset, -1px 0 0 0 #e2e3e3 inset}hbr-table[theme=default] hbr-table-data .rgRow.focused-rgRow{background-color:rgba(233, 234, 237, 0.5)}hbr-table[theme=default] hbr-table-data .rgCell{box-shadow:0 -1px 0 0 #e2e3e3 inset, -1px 0 0 0 #e2e3e3 inset}hbr-table[theme=default] hbr-table-data .rgCell.disabled{background-color:0 -1px 0 0 #e2e3e3 inset, -1px 0 0 0 #e2e3e3 inset}hbr-table[theme=material]{font-family:Nunito, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}hbr-table[theme=material] hbr-table-header{line-height:50px;font-weight:600;text-align:left}hbr-table[theme=material] hbr-table-header .rgHeaderCell{padding:0 15px;text-overflow:ellipsis}hbr-table[theme=material] hbr-table-header .header-rgRow{height:50px}hbr-table[theme=material] hbr-table-data{text-align:left}hbr-table[theme=material] hbr-table-data .rgRow{line-height:42px}hbr-table[theme=material] hbr-table-data .rgCell{padding:0 15px}hbr-table[theme=material] .viewports{width:100%}hbr-table[theme=material] .rowHeaders{background-color:#f7faff}hbr-table[theme=material] .rowHeaders hbr-table-data .rgCell{color:#757a82}hbr-table[theme=material] hbr-table-header .header-rgRow.group{box-shadow:0 -1px 0 0 #f1f1f1 inset}hbr-table[theme=material] hbr-table-header .header-rgRow:not(.group){box-shadow:0 -1px 0 0 #f1f1f1, 0 -1px 0 0 #f1f1f1 inset}hbr-table[theme=material] hbr-table-header .rgHeaderCell.sortable:hover{background-color:#f1f1f1}hbr-table[theme=material] hbr-table-header .rgHeaderCell.focused-cell{background:rgba(233, 234, 237, 0.5)}hbr-table[theme=material] .footer-wrapper hbr-table-data{box-shadow:0 -1px 0 #f1f1f1}hbr-table[theme=material] hbr-viewport-scroll.colPinStart{box-shadow:-1px 0 0 #f1f1f1 inset}hbr-table[theme=material] hbr-viewport-scroll.colPinEnd{box-shadow:-1px 0 0 #f1f1f1}hbr-table[theme=material] hbr-table-data .rgRow{box-shadow:0 -1px 0 0 #f1f1f1 inset}hbr-table[theme=material] hbr-table-data .rgRow.focused-rgRow{background-color:rgba(233, 234, 237, 0.5)}hbr-table[theme=material] hbr-table-data .rgCell{color:rgba(0, 0, 0, 0.87)}hbr-table[theme=material] hbr-table-data .rgCell.disabled{background-color:var(--cell-disabled-color, #f7f7f7)}hbr-table[theme=material] hbr-table-data .hbr-draggable>.hbr-drag-icon{background-color:#d4d4d4}hbr-table[theme=material] hbr-table-data .hbr-draggable:hover>.hbr-drag-icon{background-color:black}hbr-table[theme=darkMaterial]{font-family:Nunito, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:#d8d8d8}hbr-table[theme=darkMaterial] hbr-table-header{line-height:50px;font-weight:600;text-align:left}hbr-table[theme=darkMaterial] hbr-table-header .rgHeaderCell{padding:0 15px;text-overflow:ellipsis}hbr-table[theme=darkMaterial] hbr-table-header .header-rgRow{height:50px}hbr-table[theme=darkMaterial] hbr-table-data{text-align:left}hbr-table[theme=darkMaterial] hbr-table-data .rgRow{line-height:42px}hbr-table[theme=darkMaterial] hbr-table-data .rgCell{padding:0 15px}hbr-table[theme=darkMaterial] .viewports{width:100%}hbr-table[theme=darkMaterial] .rowHeaders{background-color:rgba(40, 39, 43, 0.8)}hbr-table[theme=darkMaterial] .rowHeaders hbr-table-data .rgCell{color:rgba(216, 216, 216, 0.8)}hbr-table[theme=darkMaterial] hbr-table-header .header-rgRow.group{box-shadow:0 -1px 0 0 #404040 inset}hbr-table[theme=darkMaterial] hbr-table-header .header-rgRow:not(.group){box-shadow:0 -1px 0 0 #404040, 0 -1px 0 0 #404040 inset}hbr-table[theme=darkMaterial] hbr-table-header .rgHeaderCell.sortable:hover{background-color:rgba(64, 64, 64, 0.5)}hbr-table[theme=darkMaterial] hbr-table-header .rgHeaderCell.focused-cell{background:rgba(115, 148, 160, 0.15)}hbr-table[theme=darkMaterial] .footer-wrapper hbr-table-data{box-shadow:0 -1px 0 #404040}hbr-table[theme=darkMaterial] hbr-table-data .rgCell{color:rgba(216, 216, 216, 0.9)}hbr-table[theme=darkMaterial] hbr-table-data .rgRow{box-shadow:0 -1px 0 0 #404040 inset}hbr-table[theme=darkMaterial] hbr-table-data .rgRow.focused-rgRow{background-color:rgba(115, 148, 160, 0.15)}hbr-table[theme=darkMaterial] hbr-table-data .hbr-draggable>.hbr-drag-icon{background-color:rgba(216, 216, 216, 0.5)}hbr-table[theme=darkMaterial] hbr-table-data .hbr-draggable:hover>.hbr-drag-icon{background-color:rgba(216, 216, 216, 0.7)}hbr-table[theme=darkMaterial] hbr-viewport-scroll.colPinStart{box-shadow:-1px 0 0 #404040 inset}hbr-table[theme=darkMaterial] hbr-viewport-scroll.colPinEnd{box-shadow:-1px 0 0 #404040}hbr-table[theme=darkCompact]{font-family:Nunito, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:#d8d8d8}hbr-table[theme=darkCompact] hbr-table-header{line-height:45px;font-weight:600;text-align:left}hbr-table[theme=darkCompact] hbr-table-header .rgHeaderCell{padding:0 15px;text-overflow:ellipsis}hbr-table[theme=darkCompact] hbr-table-header .header-rgRow{height:45px}hbr-table[theme=darkCompact] hbr-table-data{text-align:left}hbr-table[theme=darkCompact] hbr-table-data .rgRow{line-height:32px}hbr-table[theme=darkCompact] hbr-table-data .rgCell{padding:0 15px}hbr-table[theme=darkCompact] .viewports{width:100%}hbr-table[theme=darkCompact] .rowHeaders{background-color:rgba(40, 39, 43, 0.8)}hbr-table[theme=darkCompact] .rowHeaders hbr-table-data .rgCell{color:rgba(216, 216, 216, 0.8)}hbr-table[theme=darkCompact] hbr-table-header .header-rgRow.group{box-shadow:0 -1px 0 0 #404040 inset}hbr-table[theme=darkCompact] hbr-table-header .header-rgRow:not(.group){box-shadow:0 -1px 0 0 #404040, 0 -1px 0 0 #404040 inset}hbr-table[theme=darkCompact] hbr-table-header .rgHeaderCell.sortable:hover{background-color:rgba(64, 64, 64, 0.5)}hbr-table[theme=darkCompact] hbr-table-header .rgHeaderCell.focused-cell{background:rgba(115, 148, 160, 0.15)}hbr-table[theme=darkCompact] .footer-wrapper hbr-table-data{box-shadow:0 -1px 0 #404040}hbr-table[theme=darkCompact] hbr-table-data .rgCell{color:rgba(216, 216, 216, 0.9)}hbr-table[theme=darkCompact] hbr-table-data .rgRow{box-shadow:0 -1px 0 0 #404040 inset}hbr-table[theme=darkCompact] hbr-table-data .rgRow.focused-rgRow{background-color:rgba(115, 148, 160, 0.15)}hbr-table[theme=darkCompact] hbr-table-data .hbr-draggable>.hbr-drag-icon{background-color:rgba(216, 216, 216, 0.5)}hbr-table[theme=darkCompact] hbr-table-data .hbr-draggable:hover>.hbr-drag-icon{background-color:rgba(216, 216, 216, 0.7)}hbr-table[theme=darkCompact] hbr-viewport-scroll.colPinStart{box-shadow:-1px 0 0 #404040 inset}hbr-table[theme=darkCompact] hbr-viewport-scroll.colPinEnd{box-shadow:-1px 0 0 #404040}hbr-table[theme=compact]{font-family:Nunito, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}hbr-table[theme=compact] hbr-table-header{line-height:45px;font-weight:600;text-align:left}hbr-table[theme=compact] hbr-table-header .rgHeaderCell{padding:0 15px;text-overflow:ellipsis}hbr-table[theme=compact] hbr-table-header .header-rgRow{height:45px}hbr-table[theme=compact] hbr-table-data{text-align:left}hbr-table[theme=compact] hbr-table-data .rgRow{line-height:32px}hbr-table[theme=compact] hbr-table-data .rgCell{padding:0 15px}hbr-table[theme=compact] .viewports{width:100%}hbr-table[theme=compact] .rowHeaders{background-color:#f7faff}hbr-table[theme=compact] .rowHeaders hbr-table-data .rgCell{color:#757a82}hbr-table[theme=compact] hbr-table-header .header-rgRow.group{box-shadow:0 -1px 0 0 #f1f1f1 inset}hbr-table[theme=compact] hbr-table-header .header-rgRow:not(.group){box-shadow:0 -1px 0 0 #f1f1f1, 0 -1px 0 0 #f1f1f1 inset}hbr-table[theme=compact] hbr-table-header .rgHeaderCell.sortable:hover{background-color:#f1f1f1}hbr-table[theme=compact] hbr-table-header .rgHeaderCell.focused-cell{background:rgba(233, 234, 237, 0.5)}hbr-table[theme=compact] .footer-wrapper hbr-table-data{box-shadow:0 -1px 0 #f1f1f1}hbr-table[theme=compact] hbr-viewport-scroll.colPinStart{box-shadow:-1px 0 0 #f1f1f1 inset}hbr-table[theme=compact] hbr-viewport-scroll.colPinEnd{box-shadow:-1px 0 0 #f1f1f1}hbr-table[theme=compact] hbr-table-data .rgRow{box-shadow:0 -1px 0 0 #f1f1f1 inset}hbr-table[theme=compact] hbr-table-data .rgRow.focused-rgRow{background-color:rgba(233, 234, 237, 0.5)}hbr-table[theme=compact] hbr-table-data .rgCell{color:rgba(0, 0, 0, 0.87)}hbr-table[theme=compact] hbr-table-data .rgCell.disabled{background-color:var(--cell-disabled-color, #f7f7f7)}hbr-table[theme=compact] hbr-table-data .hbr-draggable>.hbr-drag-icon{background-color:#d4d4d4}hbr-table[theme=compact] hbr-table-data .hbr-draggable:hover>.hbr-drag-icon{background-color:black}hbr-table[theme=compact] hbr-dropdown .rv-dr-root{padding:0px 9px}hbr-table[theme=cohesion]{font-family:var(--hbr-font-body)}hbr-table[theme=cohesion] hbr-table-header{line-height:43px;font-weight:400;text-align:left}hbr-table[theme=cohesion] hbr-table-header .rgHeaderCell{padding:0 15px;text-overflow:ellipsis}hbr-table[theme=cohesion] hbr-table-header .header-rgRow{height:43px}hbr-table[theme=cohesion] hbr-table-data{text-align:left}hbr-table[theme=cohesion] hbr-table-data .rgRow{line-height:42px}hbr-table[theme=cohesion] hbr-table-data .rgCell{padding:0 15px}hbr-table[theme=cohesion] .viewports{width:100%}hbr-table[theme=cohesion] .rowHeaders{background-color:transparent}hbr-table[theme=cohesion] .rowHeaders hbr-table-data .rgCell{color:var(--hbr-color-neutral-text)}hbr-table[theme=cohesion] hbr-table-header .header-rgRow.group{box-shadow:0 -1px 0 0 var(--hbr-color-neutral-border) inset}hbr-table[theme=cohesion] hbr-table-header .header-rgRow:not(.group){font-size:var(--hbr-font-size-xs);border-bottom:1px solid var(--hbr-color-neutral-border);box-shadow:var(--hbr-shadow-xs);clip-path:inset(0px 0px -8px 0px)}hbr-table[theme=cohesion] hbr-table-header .rgHeaderCell.focused-cell{background:transparent}hbr-table[theme=cohesion] .footer-wrapper hbr-table-data{box-shadow:0 -1px 0 var(--hbr-color-neutral-border)}hbr-table[theme=cohesion] hbr-viewport-scroll.colPinStart{border-right:1px solid var(--hbr-color-neutral-border);box-shadow:var(--hbr-shadow-xs);clip-path:inset(0px -10px 0px 0px)}hbr-table[theme=cohesion] hbr-viewport-scroll.colPinEnd{border-left:1px solid var(--hbr-color-neutral-border);box-shadow:var(--hbr-shadow-xs);clip-path:inset(0px 0px 0px -10px)}hbr-table[theme=cohesion] hbr-table-data .rgRow{box-shadow:0 -1px 0 0 var(--hbr-color-neutral-border) inset}hbr-table[theme=cohesion] hbr-table-data .rgRow.focused-rgRow{background-color:transparent}hbr-table[theme=cohesion] hbr-table-data .rgCell{color:var(--hbr-color-neutral-medium-text)}hbr-table[theme=cohesion] hbr-table-data .rgCell.disabled{background-color:var(--cell-disabled-color, #f7f7f7)}hbr-table[theme=cohesion] hbr-table-data .hbr-draggable>.hbr-drag-icon{background-color:var(--hbr-color-accent-border)}hbr-table[theme=cohesion] hbr-table-data .hbr-draggable:hover>.hbr-drag-icon{background-color:var(--hbr-color-accent-hover)}hbr-table{display:block;height:100%;font-family:Helvetica, Arial, Sans-Serif, serif;font-size:14px;position:relative;color:var(--hbr-color-neutral-text);-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column;width:100%;height:100%}hbr-table .footer-wrapper,hbr-table .header-wrapper{width:100%}hbr-table .footer-wrapper hbr-table-data,hbr-table .header-wrapper hbr-table-data{z-index:3}hbr-table hbr-dropdown .rv-dr-root{max-height:100%}hbr-table hbr-dropdown.shrink label{opacity:0}hbr-table .viewports{max-height:100%;display:flex;flex-direction:row;align-items:flex-start;max-width:100%}hbr-table .main-viewport{flex-grow:1;height:0;display:flex;flex-direction:row}hbr-table .draggable{position:fixed;height:30px;line-height:30px;background:#fff;border-radius:3px;display:block;z-index:100;margin-top:5px;margin-right:-20px;box-shadow:0 4px 20px 0 rgba(0, 0, 0, 0.15);padding-left:20px;padding-right:5px}hbr-table .draggable.hidden{display:none}hbr-table .draggable .hbr-alt-icon{background-color:black;position:absolute;left:5px;top:10px}hbr-table .draggable-wrapper.hidden{display:none}hbr-table .drag-position{position:absolute;left:0;right:0;height:1px;z-index:2;background:red}hbr-table .clipboard{position:absolute;left:0;top:0}hbr-table hbr-scroll-virtual{position:relative}hbr-table hbr-scroll-virtual.vertical,hbr-table hbr-scroll-virtual.horizontal{z-index:3}";export{Re as hbr_table}