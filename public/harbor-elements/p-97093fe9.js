import{r as l}from"./p-f986f79b.js";import"./p-d77427db.js";import"./p-429acd5f.js";import"./p-2f294b2a.js";var e,o;const i=(null===globalThis||void 0===globalThis?void 0:globalThis.window)||globalThis||{},t=i.__hbrThemeState__?i.__hbrThemeState__:i.__hbrThemeState__={_events:[],_darkModeName:"hbr-mode-dark",_element:null===(o=null===(e=null===globalThis||void 0===globalThis?void 0:globalThis.window)||void 0===e?void 0:e.document)||void 0===o?void 0:o.body},n=["hbr-theme-cohesion-v1","hbr-theme-cohesion","hbr-theme-magnetic"];let h,r;const a=(()=>{var l,e,o,d,s;(null===(e=null===(l=null===globalThis||void 0===globalThis?void 0:globalThis.window)||void 0===l?void 0:l.document)||void 0===e?void 0:e.body)&&(i.__hbrThemeState__._element=null===(d=null===(o=null===globalThis||void 0===globalThis?void 0:globalThis.window)||void 0===o?void 0:o.document)||void 0===d?void 0:d.body);const u=t._events,v=t._element,m=l=>{var e,o;let t=null===(e=null==i?void 0:i.localStorage)||void 0===e?void 0:e.getItem(l);return t||(t=null==v?void 0:v.getAttribute(`data-${l}`),t&&(null===(o=null==i?void 0:i.localStorage)||void 0===o||o.setItem(l,t)),t)},b=()=>m("hbr-theme"),c=l=>{"light"===l?(null==v||v.classList.add("hbr-mode-light"),Array.isArray(t._darkModeName)?t._darkModeName.forEach((l=>null==v?void 0:v.classList.remove(l))):null==v||v.classList.remove(t._darkModeName),null==v||v.setAttribute("data-hbr-theme-type","mode"),null==v||v.setAttribute("data-hbr-color-scheme",l),null==i||i.localStorage.setItem("hbr-color-scheme",l)):"dark"===l?(null==v||v.classList.remove("hbr-mode-light"),Array.isArray(t._darkModeName)?t._darkModeName.forEach((l=>null==v?void 0:v.classList.add(l))):null==v||v.classList.add(t._darkModeName),null==v||v.setAttribute("data-hbr-theme-type","mode"),null==v||v.setAttribute("data-hbr-color-scheme",l),null==i||i.localStorage.setItem("hbr-color-scheme",l)):(null==v||v.setAttribute("data-hbr-theme-type","mode"),null==v||v.setAttribute("data-hbr-color-scheme",l),null==i||i.localStorage.setItem("hbr-color-scheme",l))},g=()=>({isCohesionV1:"hbr-theme-cohesion-v1"===b(),isCohesion:"hbr-theme-cohesion"===b(),isMagnetic:"hbr-theme-magnetic"===b()}),T=null===(s=null===globalThis||void 0===globalThis?void 0:globalThis.window)||void 0===s?void 0:s.matchMedia("(prefers-color-scheme: dark)");let p=l=>{c((null==l?void 0:l.matches)?"light":"dark")};return{setDarkColorSchemeName:l=>t._darkModeName=l,getDarkColorSchemeName:()=>t._darkModeName,setTheme:l=>{null==v||v.classList.add(l),null==v||v.setAttribute("data-hbr-theme-type","theme"),null==v||v.setAttribute("data-hbr-theme",l),null==i||i.localStorage.setItem("hbr-theme",l),n.forEach((e=>{l!==e&&(null==v||v.classList.remove(e))}))},removeTheme:l=>{(null==v?void 0:v.classList.contains(l))&&(null==v||v.classList.remove(l),null==v||v.setAttribute("data-hbr-theme-type","theme"))},getActiveTheme:g,setElement:l=>t._element=l,getElement:()=>v,publish:l=>u.forEach((e=>"function"==typeof e&&e(l))),subscribe:(l,e=!0)=>{if("function"==typeof l&&e){let e;e=Array.isArray(t._darkModeName)?t._darkModeName.some((l=>null==v?void 0:v.classList.contains(l))):null==v?void 0:v.classList.contains(t._darkModeName),l({activeTheme:g(),element:v,themeList:null==v?void 0:v.classList,isDark:e,type:"initial"})}return-1===u.indexOf(l)&&u.push(l),()=>{u.splice(u.indexOf(l),1)}},unsubscribe:l=>u.splice(l,1),observe:(l=v)=>{l&&(null==h||h.observe(l,{childList:!1,attributes:!0,subtree:!1}))},disconnect:()=>null==h?void 0:h.disconnect(),getObserver:()=>h,autoDetectOn:(l,e)=>{"function"==typeof l?l({isDark:null==T?void 0:T.matches}):(null==T?void 0:T.matches)&&c("dark"),"function"==typeof e&&(p=e),null==T||T.addEventListener("change",p)},autoDetectOff:()=>{null==T||T.removeEventListener("change",p)},getEvent:()=>u,setColorScheme:c,getColorScheme:()=>m("hbr-color-scheme")||"light",getTheme:b,createObserver:()=>{globalThis.MutationObserver&&(h=new MutationObserver((l=>{l.forEach((l=>{"attributes"===l.type&&"data-hbr-theme-type"===l.attributeName&&(clearTimeout(r),r=setTimeout((()=>{const e=l.target,o=null==e?void 0:e.classList,i=null==a?void 0:a.getColorScheme(),t="dark"===i,n=null==a?void 0:a.getActiveTheme(),h=e.getAttribute("data-hbr-theme-type"),r=null==a?void 0:a.getTheme();null==a||a.publish({element:e,themeList:o,isDark:t,activeTheme:n,currentTheme:r,currentColorScheme:i,type:h})}),0))}))})))}}})();a.createObserver();const d=l.createElement;try{(()=>{var l,e,o,i;if(null===(l=null===globalThis||void 0===globalThis?void 0:globalThis.window)||void 0===l?void 0:l.document){const l=null===(i=null===(o=Array.prototype.slice.apply(null===(e=null===globalThis||void 0===globalThis?void 0:globalThis.window)||void 0===e?void 0:e.document.scripts).filter((function(l){return l.src.indexOf("harbor-elements/harbor-elements.esm.js")>-1}))[0])||void 0===o?void 0:o.attributes["data-theme"])||void 0===i?void 0:i.value;a.setTheme(l||a.getTheme()||"hbr-theme-cohesion")}})()}catch(l){console.error(l)}export{d as e,a as t}