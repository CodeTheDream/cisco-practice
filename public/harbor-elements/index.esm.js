import{c as s}from"./p-b70d1ec1.js";import{r}from"./p-f986f79b.js";export{e as el,t as theme}from"./p-97093fe9.js";export{g as getTimeZones}from"./p-ce7b372f.js";import"./p-d77427db.js";import"./p-429acd5f.js";import"./p-2f294b2a.js";import{_ as n}from"./p-81363b60.js";import"./p-5a23f796.js";import"./p-53cd60da.js";import{_ as o,a as i}from"./p-b6499249.js";import"./p-ffcea7d9.js";import{g as c}from"./p-b6e8a163.js";import{k as h}from"./p-291f558e.js";import{_ as u}from"./p-2217e4eb.js";import{f as a}from"./p-8e9b44dd.js";var l=s.process;const p=t=>{const e=t;return class extends r.Component{componentDidMount(){this.syncProps(this.props)}componentDidUpdate(t){this.syncProps(this.props)}syncProps(t){const e=this.element;Object.keys(t).forEach((s=>{"children"!==s&&"style"!==s&&("className"!==s||"string"!=typeof t[s]?0===s.indexOf("on")&&s[2]===s[2].toUpperCase()?this.syncEvent(s.substring(2),t[s]):e[s]=t[s]:e[s]=t[s]+" hydrated")}))}syncEvent(t,e){const s=this.element,r=t[0].toLowerCase()+t.substring(1),n=s.__events||(s.__events={}),o=n[r];o&&s.removeEventListener(r,o),e&&s.addEventListener(r,n[r]=function(t){e.call(this,t)})}render(){return r.createElement(e,{ref:t=>{this.element=t},style:this.props.style},this.props.children)}}},f=t=>t.map((t=>p(t)));function d(t,e="html",s={}){return r.createElement("svg"===e?"g":"div",Object.assign({dangerouslySetInnerHTML:{__html:t}},s))}const m=t=>{const e="[object "+t+"]";return function(t){return y(t)===e}},y=t=>Object.prototype.toString.call(t),b=t=>t instanceof Date?t.getTime():w(t)?t.map(b):t&&"function"==typeof t.toJSON?t.toJSON():t,w=m("Array"),x=m("Object"),j=m("Function"),$=(t,e)=>{if(null==t&&t==e)return!0;if(t===e)return!0;if(Object.prototype.toString.call(t)!==Object.prototype.toString.call(e))return!1;if(w(t)){if(t.length!==e.length)return!1;for(let s=0,{length:r}=t;s<r;s++)if(!$(t[s],e[s]))return!1;return!0}if(x(t)){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!$(t[s],e[s]))return!1;return!0}return!1},v=(t,e,s,r,n,o)=>{const i=e[r];if(w(t)&&isNaN(Number(i)))for(let n=0,{length:o}=t;n<o;n++)if(!v(t[n],e,s,r,n,t))return!1;return r===e.length||null==t?s(t,n,o):v(t[i],e,s,r+1,i,t)};class O{constructor(t,e,s){this.params=t,this.owneryQuery=e,this.options=s,this.init()}init(){}reset(){this.done=!1,this.keep=!1}}class _ extends O{constructor(t,e,s,r){super(t,e,s),this.name=r}}class E extends O{constructor(t,e,s,r){super(t,e,s),this.children=r}reset(){this.keep=!1,this.done=!1;for(let t=0,{length:e}=this.children;t<e;t++)this.children[t].reset()}childrenNext(t,e,s){let r=!0,n=!0;for(let o=0,{length:i}=this.children;o<i;o++){const i=this.children[o];if(i.next(t,e,s),i.keep||(n=!1),i.done){if(!i.keep)break}else r=!1}this.done=r,this.keep=n}}class P extends E{constructor(t,e,s,r,n){super(t,e,s,r),this.name=n}}class A extends E{constructor(){super(...arguments),this.propop=!0}next(t,e,s){this.childrenNext(t,e,s)}}class M extends E{constructor(t,e,s,r,n){super(e,s,r,n),this.keyPath=t,this.propop=!0,this._nextNestedValue=(t,e,s)=>(this.childrenNext(t,e,s),!this.done)}next(t,e,s){v(t,this.keyPath,this._nextNestedValue,0,e,s)}}const N=(t,e)=>{if(t instanceof Function)return t;if(t instanceof RegExp)return e=>{const s="string"==typeof e&&t.test(e);return t.lastIndex=0,s};const s=b(t);return t=>e(s,b(t))};class k extends O{constructor(){super(...arguments),this.propop=!0}init(){this._test=N(this.params,this.options.compare)}next(t,e,s){Array.isArray(s)&&!s.hasOwnProperty(e)||this._test(t,e,s)&&(this.done=!0,this.keep=!0)}}class L extends O{constructor(){super(...arguments),this.propop=!0}next(){this.done=!0,this.keep=!1}}const S=t=>{return e=(e,s,r)=>{const n=typeof b(e),o=t(e);return new k((t=>typeof b(t)===n&&o(t)),s,r)},(t,s,r)=>null==t?new L(t,s,r):e(t,s,r);var e},D=(t,e,s,r)=>{const n=r.operations[t];return n||F(t),n(e,s,r,t)},F=t=>{throw new Error(`Unsupported operation: ${t}`)},I=(t,e)=>{for(const s in t)if(e.operations.hasOwnProperty(s)||"$"===s.charAt(0))return!0;return!1},q=(t,e,s,r,n)=>{if(I(e,n)){const[o,i]=T(e,s,n);if(i.length)throw new Error("Property queries must contain only operations, or exact objects.");return new M(t,e,r,n,o)}return new M(t,e,r,n,[new k(e,r,n)])},C=(t,e=null,{compare:s,operations:r}={})=>{const n={compare:s||$,operations:Object.assign({},r||{})},[o,i]=T(t,null,n),c=[];return o.length&&c.push(new M([],t,e,n,o)),c.push(...i),1===c.length?c[0]:new A(t,e,n,c)},T=(t,e,s)=>{const r=[],n=[];if(!(o=t)||o.constructor!==Object&&o.constructor!==Array&&"function Object() { [native code] }"!==o.constructor.toString()&&"function Array() { [native code] }"!==o.constructor.toString()||o.toJSON)return r.push(new k(t,t,s)),[r,n];var o;for(const o in t)if(s.operations.hasOwnProperty(o)){const n=D(o,t[o],t,s);if(n&&!n.propop&&e&&!s.operations[e])throw new Error(`Malformed query. ${o} cannot be matched against property.`);null!=n&&r.push(n)}else"$"===o.charAt(0)?F(o):n.push(q(o.split("."),t[o],o,t,s));return[r,n]};class z extends _{constructor(){super(...arguments),this.propop=!0}init(){this._test=N(this.params,this.options.compare)}reset(){super.reset(),this.keep=!0}next(t){this._test(t)&&(this.done=!0,this.keep=!1)}}class B extends _{constructor(){super(...arguments),this.propop=!0}init(){if(!this.params||"object"!=typeof this.params)throw new Error("Malformed query. $elemMatch must by an object.");this._queryOperation=C(this.params,this.owneryQuery,this.options)}reset(){super.reset(),this._queryOperation.reset()}next(t){if(w(t)){for(let e=0,{length:s}=t;e<s;e++)this._queryOperation.reset(),this._queryOperation.next(t[e],e,t),this.keep=this.keep||this._queryOperation.keep;this.done=!0}else this.done=!1,this.keep=!1}}class R extends _{constructor(){super(...arguments),this.propop=!0}init(){this._queryOperation=C(this.params,this.owneryQuery,this.options)}reset(){this._queryOperation.reset()}next(t,e,s){this._queryOperation.next(t,e,s),this.done=this._queryOperation.done,this.keep=!this._queryOperation.keep}}class U extends _{constructor(){super(...arguments),this.propop=!0}init(){}next(t){w(t)&&t.length===this.params&&(this.done=!0,this.keep=!0)}}const W=t=>{if(0===t.length)throw new Error("$and/$or/$nor must be a nonempty array")};class H extends _{constructor(){super(...arguments),this.propop=!1}init(){W(this.params),this._ops=this.params.map((t=>C(t,null,this.options)))}reset(){this.done=!1,this.keep=!1;for(let t=0,{length:e}=this._ops;t<e;t++)this._ops[t].reset()}next(t,e,s){let r=!1,n=!1;for(let o=0,{length:i}=this._ops;o<i;o++){const i=this._ops[o];if(i.next(t,e,s),i.keep){r=!0,n=i.keep;break}}this.keep=n,this.done=r}}class J extends H{constructor(){super(...arguments),this.propop=!1}next(t,e,s){super.next(t,e,s),this.keep=!this.keep}}class Q extends _{constructor(){super(...arguments),this.propop=!0}init(){this._testers=this.params.map((t=>{if(I(t,this.options))throw new Error(`cannot nest $ under ${this.constructor.name.toLowerCase()}`);return N(t,this.options.compare)}))}next(t,e,s){let r=!1,n=!1;for(let e=0,{length:s}=this._testers;e<s;e++)if((0,this._testers[e])(t)){r=!0,n=!0;break}this.keep=n,this.done=r}}class Z extends Q{constructor(){super(...arguments),this.propop=!0}next(t,e,s){super.next(t,e,s),this.keep=!this.keep}}class G extends _{constructor(){super(...arguments),this.propop=!0}next(t,e,s){s.hasOwnProperty(e)===this.params&&(this.done=!0,this.keep=!0)}}class K extends P{constructor(t,e,s,r){super(t,e,s,t.map((t=>C(t,e,s))),r),this.propop=!1,W(t)}next(t,e,s){this.childrenNext(t,e,s)}}class V extends P{constructor(t,e,s,r){super(t,e,s,t.map((t=>C(t,e,s))),r),this.propop=!0}next(t,e,s){this.childrenNext(t,e,s)}}const X=S((t=>e=>e<t)),Y=S((t=>e=>e<=t)),tt=S((t=>e=>e>t)),et=S((t=>e=>e>=t)),st={number:t=>"number"==typeof t,string:t=>"string"==typeof t,bool:t=>"boolean"==typeof t,array:t=>Array.isArray(t),null:t=>null===t,timestamp:t=>t instanceof Date};var rt=Object.freeze({__proto__:null,$Size:U,$eq:(t,e,s)=>new k(t,e,s),$ne:(t,e,s,r)=>new z(t,e,s,r),$or:(t,e,s,r)=>new H(t,e,s,r),$nor:(t,e,s,r)=>new J(t,e,s,r),$elemMatch:(t,e,s,r)=>new B(t,e,s,r),$nin:(t,e,s,r)=>new Z(t,e,s,r),$in:(t,e,s,r)=>new Q(t,e,s,r),$lt:X,$lte:Y,$gt:tt,$gte:et,$mod:([t,e],s,r)=>new k((s=>b(s)%t===e),s,r),$exists:(t,e,s,r)=>new G(t,e,s,r),$regex:(t,e,s)=>new k(new RegExp(t,e.$options),e,s),$not:(t,e,s,r)=>new R(t,e,s,r),$type:(t,e,s)=>new k((e=>{if("string"==typeof t){if(!st[t])throw new Error("Type alias does not exist");return st[t](e)}return null!=e&&(e instanceof t||e.constructor===t)}),e,s),$and:(t,e,s,r)=>new K(t,e,s,r),$all:(t,e,s,r)=>new V(t,e,s,r),$size:(t,e,s)=>new U(t,e,s,"$size"),$options:()=>null,$where:(t,e,s)=>{let r;if(j(t))r=t;else{if(l.env.CSP_ENABLED)throw new Error('In CSP mode, sift does not support strings in "$where" condition');r=new Function("obj","return "+t)}return new k((t=>r.bind(t)(t)),e,s)}});const nt=(t,e={})=>{const s=((t,e,{compare:s,operations:r}={})=>C(t,e,{compare:s,operations:Object.assign({},rt,r||{})}))(t,null,e);return r=s,(t,e,s)=>(r.reset(),r.next(t,e,s),r.keep);var r},ot=(t,e)=>{let{search:s,siftQuery:r,siftOptions:n,customFilter:o,filter:i,customSort:c,order:h,pageLength:u,page:a,matchCase:l=!1}=e,p=t;if(s&&"string"==typeof s&&(p=p.filter((t=>Object.values(t).some((t=>(t=JSON.stringify(t),l||(t=t.toLowerCase(),s=s.toLowerCase()),t.includes(s))))))),o&&"function"==typeof o?p=p.filter(o):r&&"object"==typeof r?p=p.filter(n?nt(r,n):nt(r)):i&&"object"==typeof i&&(p=p.filter((t=>Object.keys(i).every((e=>((t,e,s)=>"string"==typeof e?t.includes(e):Array.isArray(e)?e.some(s?e=>t.includes(e):e=>t.toLowerCase().includes(e.toLowerCase())):void 0)(t[e],i[e],l)))))),c&&"function"==typeof c)p.sort(c);else if(h&&Array.isArray(h)){const t=(t=>(e,s)=>{let r=0;return t.every((t=>{const[n,o]=t;return!(!e[n]||!s[n])&&(r="desc"===o?e[n]>s[n]?-1:e[n]<s[n]?1:0:e[n]<s[n]?-1:e[n]>s[n]?1:0,0===r)})),r})(h);p.sort(t)}let f=0,d=p.length;return u&&"number"==typeof u&&"number"==typeof a&&(f=a*u,d=(a+1)*u),p.slice(f,d)};const it=t=>{const e=t=>(t=>{const e=c(t.filter((t=>t.position>=0)),(t=>t.position)),{segments:s}=new Uint32Array(Object.keys(e)).reduce(((t,s)=>({currPos:Math.max(t.currPos,s)+e[s].length,segments:t.segments.concat({gapLength:s-t.currPos,items:e[s]})})),{currPos:0,segments:[{gapLength:0,items:[]}]}),r=t.filter((t=>!t.position||t.position<0));return s.reduce(((t,{gapLength:e,items:s})=>t.concat(r.splice(0,e)).concat(s)),[]).concat(r)})(t).reduce(((t,s)=>(t.push(s.item),t.concat(e(s.children)))),[]);return e((t=>{const e=t.map(((t,e)=>({children:[],position:t.position,idx:e,item:t}))),s=h(e,(t=>t.item.id)),r=(t,e)=>t===e||t.parent===e||t.parent&&r(t.parent,e);return e.forEach((t=>{const e=s[t.item.positionAfter];e&&(r(e,t)?console.warn("Found nav cycle; cannot position",t.item.id,"after",e.item.id):(t.parent=e,e.children.push(t)))})),{roots:e.filter((t=>!t.parent))}})(t).roots)},ct=(()=>{const t=()=>null;return{subscribe:()=>t,load:()=>null}})(),ht=(t,e,s=null)=>{let r;const n={...{...t,_isRoot:()=>!s,_isPlace:()=>!["category","group"].includes(n.type)&&!r.length&&(n.module||n.viewRef),_descendantById:t=>t===n.id?n:(e=>{for(let s=0;s<e.length;s++){const r=e[s]._descendantById(t);if(r)return r}return null})(n.children()),_descendantsWith:t=>n.children().filter(t).concat(a(n.children().map((e=>e._descendantsWith(t))))),_descendants:()=>n._descendantsWith((()=>!0)),_descendantPlaces:()=>n._descendantsWith((t=>t._isPlace())),_lockedDescendants:()=>n._descendantsWith((t=>t.isLocked())),ancestors:()=>s?[s].concat(s.ancestors()):[],children:()=>r,routeSegment:()=>t.routeSegment||("category"===t.type?null:t.originalId),routePath(){const t=n.routeSegment()||"";return s?s._isRoot()?s.routePath()+t:function(t){for(var e=-1,s=null==t?0:t.length,r=0,n=[];++e<s;){var o=t[e];o&&(n[r++]=o)}return n}([s.routePath(),t]).join("/"):"/"},headless:()=>n.navDisabled||n.ancestors().some((t=>!!t.navDisabled))||n.ancestors().some((t=>!("group"!==t.type||!t.module&&!t.viewRef))),hasPlace:()=>{return!!n._isPlace()||!!n.children().length&&(t=n.children().map((t=>!!t.hasPlace())),null!=t&&t.length?u(t,1/0):[]).some((t=>!!t));var t},isContainer:()=>!("group"!==n.type||!n.module&&!n.viewRef),isLocked:()=>n.locked||n.ancestors().some((t=>!!t.locked))},...ct};return r=(e[t.id]||[]).map((t=>ht(t,e,n))),n},ut=({routes:t})=>ht({id:"root",target:null,type:"group"},((t,e)=>{const s=h(e,(t=>t.id)),r=e=>e.target===t.id||s[e.target]&&r(s[e.target]),u=e.filter(r);return a=c(u,(t=>t.target)),p={},l=o(l=it),i(a,(function(t,e,s){n(p,e,l(t,e,s))})),p;var a,l,p})(root,t),null),at=({router:t,routes:e})=>{console.log(t);const s=ut({routes:e}),r={visit(e,s){console.log(t),t.push(r.itemById(e).routePath(),s)},itemById(t){const e=s._descendantById(t);if(e)return e;throw new Error(`Item with id ${t} does not exist`)},itemByPath:e=>r.places().find((s=>t.matchPath(routePath(s),{path:e}))),root:()=>s,roots:()=>s.children(),hasChildren:t=>r.itemById(t).children().length,children:t=>r.itemById(t).children(),placesWithAncestor:t=>r.itemById(t)._descendantPlaces(),places:()=>s._descendantPlaces()};return r};export{at as NavTree,d as componentFromHTMLString,ot as queryHelper,f as reactWrapper}